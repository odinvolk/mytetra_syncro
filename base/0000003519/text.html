<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Давайте напишем простую функцию, которая возвращает массив из трех элементов — текущего значения <span style=" font-family:'Courier New'; color:#6a0e07;">this</span> и двух аргументов, переданных в функцию.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a0e07;">function makeArray(arg1, arg2){</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a0e07;">  return [ this, arg1, arg2 ];</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a0e07;">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Зачастую возникает необходимость переопределить значение <span style=" font-family:'Courier New'; color:#6a0e07;">this</span>. Если вы помните, функции в JavaScript являются объектами. На практике это означает, что у функций есть предопределенные методы. <span style=" font-family:'Courier New'; color:#6a0e07;">apply()</span> и <span style=" font-family:'Courier New'; color:#6a0e07;">call()</span> — два из них. Они позволяют переопределять значение <span style=" font-family:'Courier New'; color:#6a0e07;">this</span>:</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a0e07;">var car = { year: 2008, model: 'Dodge Bailout' };</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a0e07;">makeArray.apply( car, [ 'one', 'two' ] ); // =&gt; [ car, 'one', 'two' ]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a0e07;">makeArray.call( car, 'one', 'two' ); // =&gt; [ car, 'one', 'two' ]</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Эти два метода очень похожи. Первый параметр переопределяет <span style=" font-family:'Courier New'; color:#6a0e07;">this</span>. Различия между ними заключаются в последющих аргументах: <span style=" font-family:'Courier New'; color:#6a0e07;">Function.apply()</span> принимает массив значений, которые будут переданы функции, а <span style=" font-family:'Courier New'; color:#6a0e07;">Function.call()</span> принимает аргументы раздельно.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Другими словами, если требуется переопределить значение <span style=" font-family:'Courier New'; color:#6a0e07;">this</span>, не копируя функцию в другой объект, можно использовать <span style=" font-family:'Courier New'; color:#6a0e07;">myFunction.apply( obj, ... )</span> или <span style=" font-family:'Courier New'; color:#6a0e07;">myFunction.call( obj, ... )</span>.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p></body></html>
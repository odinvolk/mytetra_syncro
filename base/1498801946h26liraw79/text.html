<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'Arial'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name=".D0.9A.D0.BE.D0.BD.D1.86.D0.B5.D0.BF.D1.86.D0.B8.D1.8F_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"></a><span style=" font-weight:600; font-style:italic;">К</span><span style=" font-weight:600; font-style:italic;">онцепция программирования: </span><span style=" font-style:italic;">Программирование ведется целиком через собственную программную оболочку (IDE), бесплатно доступную на сайте Arduino. В этой оболочке имеется </span><a href="https://ru.wikipedia.org/wiki/%D0%A2%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%B2%D1%8B%D0%B9_%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%BE%D1%80"><span style=" font-style:italic; text-decoration: underline; color:#0000ff;">текстовый редактор</span></a><span style=" font-style:italic;">, менеджер проектов, </span><a href="https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%B5%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%BE%D1%80"><span style=" font-style:italic; text-decoration: underline; color:#0000ff;">препроцессор</span></a><span style=" font-style:italic;">, </span><a href="https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BC%D0%BF%D0%B8%D0%BB%D1%8F%D1%82%D0%BE%D1%80"><span style=" font-style:italic; text-decoration: underline; color:#0000ff;">компилятор</span></a><span style=" font-style:italic;"> и инструменты для загрузки программы в микроконтроллер. Оболочка написана на </span><a href="https://ru.wikipedia.org/wiki/Java"><span style=" font-style:italic; text-decoration: underline; color:#0000ff;">Java</span></a><span style=" font-style:italic;"> на основе проекта </span><a href="https://ru.wikipedia.org/wiki/Processing"><span style=" font-style:italic; text-decoration: underline; color:#0000ff;">Processing</span></a><span style=" font-style:italic;">, работает под </span><a href="https://ru.wikipedia.org/wiki/Windows"><span style=" font-style:italic; text-decoration: underline; color:#0000ff;">Windows</span></a><span style=" font-style:italic;">, </span><a href="https://ru.wikipedia.org/wiki/Mac_OS_X"><span style=" font-style:italic; text-decoration: underline; color:#0000ff;">Mac OS X</span></a><span style=" font-style:italic;"> и </span><a href="https://ru.wikipedia.org/wiki/Linux"><span style=" font-style:italic; text-decoration: underline; color:#0000ff;">Linux</span></a><span style=" font-style:italic;">.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name=".D0.AF.D0.B7.D1.8B.D0.BA_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"></a><span style=" font-size:large; font-weight:600;">Я</span><span style=" font-size:large; font-weight:600;">зык программирования в Arduino</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Язык программирования Arduino является стандартным <a href="https://ru.wikipedia.org/wiki/C%2B%2B"><span style=" text-decoration: underline; color:#0000ff;">C++</span></a> (используется компилятор <a href="https://ru.wikipedia.org/wiki/GNU_AVR_toolchain#avr-gcc"><span style=" text-decoration: underline; color:#0000ff;">AVR-GCC</span></a>) с некоторыми особенностями, облегчающими новичкам написание первой работающей программы.</p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Программы, написанные программистом Arduino называются <span style=" font-style:italic;">наброски</span> (или иногда <span style=" font-style:italic;">скетчи</span> — <a href="https://ru.wikipedia.org/wiki/%D0%92%D0%B0%D1%80%D0%B2%D0%B0%D1%80%D0%B8%D0%B7%D0%BC"><span style=" text-decoration: underline; color:#0000ff;">калька</span></a> от <a href="https://ru.wikipedia.org/wiki/%D0%90%D0%BD%D0%B3%D0%BB%D0%B8%D0%B9%D1%81%D0%BA%D0%B8%D0%B9_%D1%8F%D0%B7%D1%8B%D0%BA"><span style=" text-decoration: underline; color:#0000ff;">англ.</span></a> <span style=" font-style:italic;">sketch</span>) и сохраняются в файлах с расширением ino. Эти файлы перед компиляцией обрабатываются препроцессором Ардуино. Также существует возможность создавать и подключать к проекту стандартные файлы C++.</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Обязательную в C++ функцию <span style=" font-family:'Courier New,courier';">main()</span> препроцессор Arduino создает сам, вставляя туда необходимые «черновые» действия.</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Программист должен написать две обязательные для Arduino функции <span style=" font-family:'Courier New,courier';">setup()</span> и <span style=" font-family:'Courier New,courier';">loop()</span>. Первая вызывается однократно при старте, вторая выполняется в бесконечном цикле.</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В текст своей программы (скетча) программист <span style=" font-weight:600;">не</span> обязан вставлять <a href="https://ru.wikipedia.org/wiki/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BE%D1%87%D0%BD%D1%8B%D0%B9_%D1%84%D0%B0%D0%B9%D0%BB"><span style=" text-decoration: underline; color:#0000ff;">заголовочные файлы</span></a> используемых стандартных библиотек. Эти заголовочные файлы добавит препроцессор Arduino в соответствии с конфигурацией проекта. Однако пользовательские библиотеки нужно указывать.</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Менеджер проекта Arduino IDE имеет нестандартный механизм добавления библиотек. Библиотеки в виде исходных текстов на стандартном C++ добавляются в специальную папку в рабочем каталоге IDE. При этом название библиотеки добавляется в список библиотек в меню IDE. Программист отмечает нужные библиотеки и они вносятся в список компиляции.</li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Arduino IDE не предлагает никаких настроек компилятора и минимизирует другие настройки, что упрощает начало работы для новичков и уменьшает риск возникновения проблем.</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Простейшая Arduino-программа состоит из двух функций:</p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">setup()</span>: функция вызывается однократно при старте микроконтроллера.</li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">loop()</span>: функция вызывается после setup () в бесконечном цикле все время работы микроконтроллера.</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Одна из простейших схем на Arduino — это подключение внешнего светодиода, управление которым происходит при помощи программы (скетча).</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Так выглядит полный текст простейшей программы (скетча) мигания светодиодом, подключенного к 13 выводу Arduino, с периодом 2 секунды<a name="cite_ref-15"></a><a href="https://ru.wikipedia.org/wiki/Arduino#cite_note-15"><span style=" text-decoration: underline; color:#0000ff; vertical-align:super;">[</span></a><span style=" text-decoration: underline; color:#0000ff; vertical-align:super;">15]</span>:</p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">void setup () {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  pinMode (13, OUTPUT); // Назначение 13 вывода Arduino выходом</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier';"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">void loop () {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  digitalWrite (13, HIGH); // Включение 13 вывода, параметр вызова функции digitalWrite HIGH - признак высокого логического уровня</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  delay (1000); // Цикл задержки на 1000 мс - 1 секунду</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  digitalWrite (13, LOW); // Выключение 13 вывода, параметр вызова LOW - признак низкого логического уровня</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">  delay (1000); // Цикл задержки на 1 секунду</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">}</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Все используемые в примере функции являются библиотечными. В комплекте Arduino IDE имеется множество примеров программ. Существует перевод документации по Arduino на русский язык<a name="cite_ref-16"></a><a href="https://ru.wikipedia.org/wiki/Arduino#cite_note-16"><span style=" text-decoration: underline; color:#0000ff; vertical-align:super;">[</span></a><span style=" text-decoration: underline; color:#0000ff; vertical-align:super;">16]</span><a name="cite_ref-17"></a><a href="https://ru.wikipedia.org/wiki/Arduino#cite_note-17"><span style=" text-decoration: underline; color:#0000ff; vertical-align:super;">[</span></a><span style=" text-decoration: underline; color:#0000ff; vertical-align:super;">17]</span>.</p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name=".D0.97.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D1.8B_.D0.B2_.D0.BC.D0.B8.D0.BA.D1.80.D0.BE.D0.BA.D0.BE.D0.BD.D1.82.D1.80.D0.BE.D0.BB.D0.BB.D0.B5.D1.80"></a><span style=" font-size:large; font-weight:600;">З</span><span style=" font-size:large; font-weight:600;">агрузка программы в микроконтроллер</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Закачка программы в микроконтроллер Arduino происходит через предварительно запрограммированный специальный загрузчик (все микроконтроллеры от Ардуино продаются с этим загрузчиком). Загрузчик создан на основе Atmel AVR Application Note AN109. Загрузчик может работать через интерфейсы <a href="https://ru.wikipedia.org/wiki/RS-232"><span style=" text-decoration: underline; color:#0000ff;">RS-232</span></a>, <a href="https://ru.wikipedia.org/wiki/USB"><span style=" text-decoration: underline; color:#0000ff;">USB</span></a> или <a href="https://ru.wikipedia.org/wiki/Ethernet"><span style=" text-decoration: underline; color:#0000ff;">Ethernet</span></a> в зависимости от состава периферии конкретной процессорной платы. В некоторых вариантах, таких как Arduino Mini или неофициальной Boarduino, для программирования требуется отдельный переходник.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Пользователь может самостоятельно запрограммировать загрузчик в чистый микроконтроллер. Для этого в IDE интегрирована поддержка программатора на основе проекта <a href="https://ru.wikipedia.org/wiki/AVRDude"><span style=" text-decoration: underline; color:#0000ff;">AVRDude</span></a>. Поддерживается несколько типов популярных дешёвых программаторов.</p></body></html>
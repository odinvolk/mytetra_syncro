<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'Sans Serif'; font-size:9pt; font-weight:400; font-style:normal;">
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Инструкция <span style=" font-style:italic;">(тестировалось на Kubuntu 7.04)</span><br /><br />а) Все начинается с генерации локали ru_RU-KOI8-R, делается это <br />командой locale-gen. Список локалей, которые она будет генерировать, <br />находится в файле /var/lib/locales/supported.d/local. <br /><br />Нужно привести его к такому виду:</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,12,-1,5,50,0,0,0,0,0'; font-size:10pt;"><span style=" font-size:11pt;">#cat /var/lib/locales/supported.d/local<br />ru_RU.UTF-8 UTF-8<br />ru_UA.UTF-8 UTF-8<br />ru_RU.KOI8-R KOI8-R</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,12,-1,5,50,0,0,0,0,0'; font-size:10pt;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Затем, собственно, сгенерировать:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /><span style=" font-family:'Courier New,12,-1,5,50,0,0,0,0,0'; font-size:11pt;">#sudo locale-gen<br />Generating locales...<br />ru_RU.KOI8-R... done<br />Generation complete.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,12,-1,5,50,0,0,0,0,0'; font-size:10pt;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">б) Далее, обновляем переменные окружения. За это отвечает<br />файл /etc/default/locale. В нем пишем: <br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,12,-1,5,50,0,0,0,0,0'; font-size:11pt;">LANG="ru_RU.KOI8-R"<br />LANGUAGE="ru_RU:ru:en_GB:en"</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,12,-1,5,50,0,0,0,0,0'; font-size:11pt;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Иксы уже сейчас будут работать с богомерзской KOI8-R, а чтобы <br />заставить работать консоль, нужно сделать еще несколько телодвижений:<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,12,-1,5,50,0,0,0,0,0'; font-size:11pt;">apt-get install console-cyrillic</span><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В файл .profile добавляем:</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /><span style=" font-family:'Courier New,12,-1,5,50,0,0,0,0,0'; font-size:11pt;">loadkeys /usr/share/console-cyrillic/ru-koi8-r.kmap<br />consolechars -f /usr/share/console-cyrillic/UniCyr_8×14.psf -m /usr/share/console-cyrillic/koi8-r.acm.gz</span><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Готово.<br /><br />p.s. Только не спрашивайте, зачем кому-то в 21-м веке понадобилась<br />KOI8-R. Иногда бывает, что с ней живется проще.<br /></p></body></html>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">До обсуждения использования пространств имен важно понять, как PHP узнает какие элементы из пространства имен запрашиваются в вашем коде. Можно провести аналогию между пространствами имен PHP и файловой системой. Есть три способа обратиться к файлу в файловой системе: </p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Относительное имя файла, такое как <span style=" font-style:italic;">foo.txt</span>, преобразуемое в <span style=" font-style:italic;">currentdirectory/foo.txt</span>, где currentdirectory текущая директория, в которой мы находимся. Тогда, если текущая директория <span style=" font-style:italic;">/home/foo</span>, то имя преобразуется в <span style=" font-style:italic;">/home/foo/foo.txt</span>. </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Относительное имя пути, такое как <span style=" font-style:italic;">subdirectory/foo.txt</span>, преобразуется в <span style=" font-style:italic;">currentdirectory/subdirectory/foo.txt</span>. </li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Абсолютное имя пути, такое как <span style=" font-style:italic;">/main/foo.txt</span>, которое остается таким же: <span style=" font-style:italic;">/main/foo.txt</span>. </li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Тот же принцип применим и к элементам из пространств имен PHP. Для примера, имя класса может быть указано тремя способами: </p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Неполные имена (имена классов без префикса), такие как <span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">$a = new foo();</span> или <span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">foo::staticmethod();</span>. Если текущее пространство имен <span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">currentnamespace</span>, то эти имена преобразуются в <span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">currentnamespace\foo</span>. Если код находится в глобальном пространстве имен, то имена остаются такими же: <span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">foo</span>. Предупреждение: неполные имена для функций и констант будут определяться в глобальном пространстве имен, если они не определены в текущем пространстве имен. Подробнее в <a href="http://ru2.php.net/manual/ru/language.namespaces.fallback.php"><span style=" text-decoration: underline; color:#0000ff;">Использование пространств имен: доступ к глобальным функциям и классам</span></a>. </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Полные имена (имена классов с префиксами), такие как <span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">$a = new subnamespace\foo();</span> или <span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">subnamespace\foo::staticmethod();</span>. Если текущее пространство имен <span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">currentnamespace</span>, то эти имена преобразуются в <span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">currentnamespace\subnamespace\foo</span>. Если код находится в глобальном пространстве имен, то имена <span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">преобразуются в subnamespace\foo</span>. </li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Абсолютные имена или имена с предшествующим префиксом, обозначающим глобальное пространство. <span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">$a = new \currentnamespace\foo();</span> или <span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">\currentnamespace\foo::staticmethod();</span>. Имена всегда определяются так же, как и записаны: <span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">currentnamespace\foo</span>. Следует обратить внимание, что в начале абсолютного имени всего используется апостроф <span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">'\'</span>.</li></ol>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Ниже приведен пример трех вариантов синтаксиса в реальном коде: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">file1.php </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">&lt;?php<br />namespace Foo\Bar\subnamespace;<br /><br />const FOO = 1;<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">function foo() {}<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">class foo<br />{<br />    static function staticmethod() {}<br />}<br />?&gt; </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">file2.php </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">&lt;?php<br />namespace Foo\Bar;<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">include 'file1.php';<br /><br />const FOO = 2;<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">function foo() {}<br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">class foo<br />{<br />    static function staticmethod() {}<br />}<br /><br />/* Неполные имена (другое название - неквалификационные имена)*/<br />foo(); // определяется как функция Foo\Bar\foo, то есть в текущем пространстве имен<br />foo::staticmethod(); // определяется как класс Foo\Bar\foo с методом staticmethod<br />echo FOO; // определяется как константа Foo\Bar\FOO<br /><br />/* Полные имена (другое название - квалификационные имена)*/<br />subnamespace\foo(); // определяется как функция Foo\Bar\subnamespace\foo<br />subnamespace\foo::staticmethod(); // определяется как класс Foo\Bar\subnamespace\foo<br />                                  // c методом staticmethod<br />echo subnamespace\FOO; // определяется как константа Foo\Bar\subnamespace\FOO<br />                                  <br />/* Абсолютные имена (другое название - полные квалификационные имена)*/<br />\Foo\Bar\foo(); // определяется как функция Foo\Bar\foo<br />\Foo\Bar\foo::staticmethod(); // определяется как класс Foo\Bar\foo с методом staticmethod<br />echo \Foo\Bar\FOO; // определяется как константа Foo\Bar\FOO<br />?&gt; </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Обратите внимание, что для доступа к любым глобальным классам, функциям или константам, может использоваться абсолютное имя, такое как <span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">\strlen()</span>, или <span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">\Exception</span>, или<span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;"> \INI_ALL</span>. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="example-245"></a><span style=" font-weight:600;">П</span><span style=" font-weight:600;">ример #1 Доступ к глобальным классам, функциям и константам из пространства имен</span> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'DejaVu Sans Mono'; color:#6a0e07;">&lt;?php<br />namespace Foo;<br /><br />function strlen() {}<br />const INI_ALL = 3;<br />class Exception {}<br /><br />$a = \strlen('hi'); // вызывает глобальную функцию strlen<br />$b = \INI_ALL; // получает доступ к глобальной константе INI_ALL<br />$c = new \Exception('error'); // Создает экземпляр глобального класса Exception<br />?&gt;</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; color:#0000bb;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; color:#000000;"><br /></p></body></html>
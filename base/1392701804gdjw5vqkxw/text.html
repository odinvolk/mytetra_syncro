<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Как то год назад когда я покупал сервер ml 110 g6 то столкнулся с проблемой установки linux на hp raid под названием SA RAID Controller B110i тогда у меня ничего не вышло по причине драйверов от HP которые слетали при первой же возможности. В тоге я плюнул и просто сделал soft raid ... </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Потом я приобрел другой сервер (hp proliant ml 350 g5) с нормальным аппаратным raid контроллером <span style=" font-family:'Futura Lt BT,Futura Lt,Arial,Helvetica,sans-serif'; color:#000000; background-color:#ffffff;">HP Smart Array P400/256MB - на нем я даже и не заметил каких то проблем с установкой чего бы то нибыло...</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вот недавно купил еще один сервер hp proliant DL 120 G7 - на борту у которого все тот же злополучный B110i.... Я по привычке уже начал было дробить диски под всякие MD разделы НО все таки решил попробовать снова поставить систему на этот raid. УРА - ПОЛУЧИЛОСЬ!!</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Наконец-то ребята из HP все таки сделали нормальные дрова которые корректно ставятся в систему и не слетают даже после kernel update.<br /><br />Вкратце пошагова с учетом тех косяков на которые наткнулся:</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />0. в bios выставляем RAID и затем в bios raid controller конфигурируем наши массивы - там только RAID0 и RAID1+0 .... <br />1. забираем с сайта HP дрова (там их 2 разных комплекта RPM и ... DD.GZIP) нам нужен архив с DD<br />2. Я ставился с USB - поэтому я подготовил 2 флешки на одну залил ISO CentOS netinstall на вторую залил содержимое файлика DD.IMG который находился в архиве .......dd.gzip с сайта HP - в итоге внутри этого dd.img были rpm и xml под авто инстал.<br />3. грузимся с инсталяционной флешки но добавляем ключи при загрузке: linux dd blacklist=ahci <br />4. система первым делом спросит про дрова - показываем ей вторую флешку (например sdb) - система сама хватает то что на флешке и без вопросов их ставит<br />5. Будете устанавливать еще драйвера для других устройств? спросит установщик - и вот тут очень важно ВЫТАЩИТЬ флешку с дровами, отказаться и продолжить установку дальше.... </p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ну собственно  и все .... CentOS будет видить только HP LOGICAL DRIVER и вроде все работает ровно... тфу тфу...</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">P.S. корень и /boot ставил в райд. Grub тоже поставил в MBR райдового диска - все грузится и работает....</p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p></body></html>
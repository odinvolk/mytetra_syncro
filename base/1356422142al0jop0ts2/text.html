<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> <span style=" font-weight:600;">CREATE TABLE</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-weight:600; font-style:italic;">sql-command ::=</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">CREATE [TEMP | TEMPORARY] TABLE [IF NOT EXISTS] [database-name .] table-name (</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">  column-def [, column-def]*</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">  [, constraint]*</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New';"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-weight:600; font-style:italic;">sql-command ::=</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">CREATE [TEMP | TEMPORARY] TABLE [database-name.] table-name AS select-statement</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New';"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-weight:600; font-style:italic;">column-def ::=</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">name [type] [[CONSTRAINT name] column-constraint]*</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New';"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-weight:600; font-style:italic;">type ::=</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">typename |</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">typename ( number ) |</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">typename ( number , number )</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New';"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-weight:600; font-style:italic;">column-constraint ::=</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">NOT NULL [ conflict-clause ] |</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">PRIMARY KEY [sort-order] [ conflict-clause ] [AUTOINCREMENT] |</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">UNIQUE [ conflict-clause ] |</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">CHECK ( expr ) |</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">DEFAULT value |</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">COLLATE collation-name</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New';"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-weight:600; font-style:italic;">constraint ::=</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">PRIMARY KEY ( column-list ) [ conflict-clause ] |</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">UNIQUE ( column-list ) [ conflict-clause ] |</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">CHECK ( expr )</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New';"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-weight:600; font-style:italic;">conflict-clause ::=</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New';">ON CONFLICT conflict-algorithm</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В команде CREATE TABLE за ключевым словом &quot;CREATE TABLE&quot; обычно следует имя таблицы и список определений полей и условий. Имя таблицы может быть как идентификатором, так и строкой. Имена, начинающиеся с &quot;sqlite_&quot; зарезервированы для использования движком.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Каждое определение поля таблицы состоит из его имени, типа и одним или несколькими дополнительными условиями. Тип данных для поля, не ограничивает размещение в нем данных. Для дополнительной информации смотрите Типы данных в SQLite версии 3. Ограничение UNIQUE вызывает создание индекса на заданных полях. Оператор COLLATE определяет для функцию сравнения, которая будет использоваться для этого поля. По умолчанию применяется встроенная функция BINARY.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Условие DEFAULT определяет значение по умолчанию, которое используется при вставке INSERT. Значение может быть NULL, строковой константой или числом. Начиная с версии 3.1.0, значение по умолчанию, может также принимать специальные ключевые слова CURRENT_TIME, CURRENT_DATE или CURRENT_TIMESTAMP. Если значение NULL, строка или число, оно вставляется без изменений в поле, если в команде INSERT не определено значение для этого поля. Если значение CURRENT_TIME, CURRENT_DATE или CURRENT_TIMESTAMP, тогда текущая UTC дата и/или время вставляются в поля. Для CURRENT_TIME, формат HH:MM:SS. Для CURRENT_DATE, YYYY-MM-DD. Формат для CURRENT_TIMESTAMP - &quot;YYYY-MM-DD HH:MM:SS&quot;.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Определение PRIMARY KEY обычно просто создает индекс UNIQUE на заданных полях. Однако, если первичный ключ на одном столбце имеет тип INTEGER, тогда этот столбец будет использоваться внутри как реальный ключ для B-Дерева (B-Tree) таблицы. Это означает, что поле может содержать только уникальное целое значение. (Исключение в одном случае, SQLite игнорирует типы данных полей и позволяет хранить данные любого типа, независимо от их описания.) Если таблица не имеет поля с INTEGER PRIMARY KEY, тогда целый ключ B-Дерева (B-Tree) будет создан автоматически. Доступ к ключу B-Tree записи всегда можно получить, используя специальные имена &quot;ROWID&quot;, &quot;OID&quot;, или &quot;_ROWID_&quot;. Это верно независимо от наличия INTEGER PRIMARY KEY. После INTEGER PRIMARY KEY также может содержать ключевое слово AUTOINCREMENT. Ключевое слово AUTOINCREMENT изменяет способ автоматической генерации B-Tree. Дополнительная информация о автоматической генерации B-Tree доступна отдельно.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В соответствии со стандартом SQL, PRIMARY KEY подразумевает NOT NULL. К сожалению, по давнему недосмотру, это не так в случае SQLite. SQLite допускает значения NULL в столбцах PRIMARY KEY. Мы можем изменить SQLite для соответствия стандарту (и возможно это будет сделано в будущем), но за прошедшее время, SQLite получил настолько широкое распространения, что мы боимся сделать ошибочным код, который сейчас корректен, если мы исправим проблему. Поэтому сейчас мы решили разрешить NULL в столбцах PRIMARY KEY. Разработчики должны помнить, что мы можем изменить SQLite в соответствии со стандартом SQL в будущем и должны разрабатывать новые программы в соответствии с ним.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если ключевые слова &quot;TEMP&quot; или &quot;TEMPORARY&quot; используются между &quot;CREATE&quot; и &quot;TABLE&quot;, тогда таблица создается только в рамках соединения с базой и автоматически удаляется при его закрытии. Все индексы, созданные для временной таблицы, также временны. Временные таблицы и индексы хранятся с отдельном файле, отличном от основного файла базы данных.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если &lt;database-name&gt; определено, тогда таблица создается в указанной базе. Ошибочно указывать одновременно оба &lt;database-name&gt; и ключевое слово TEMP, если &lt;database-name&gt; не &quot;temp&quot;. Если имя базы не указано и ключевое слово TEMP не использовано, таблица создается в текущей базе данных.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Возможно указание оператора разрешения конфликтов для каждого условия, если требуется задать альтернативный алгоритм. По умолчанию используется алгоритм ABORT. Различные условия в одной таблице могут иметь различные алгоритмы по умолчанию для разрешения проблем. Если в командах COPY, INSERT или UPDATE определены отличные алгоритмы разрешения конфликтов, тогда они вытесняют алгоритмы, заданные в запросе CREATE TABLE. Для детальной информации смотрите ON CONFLICT.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Ограничение CHECK поддерживается с версии 3.3.0. До версии 3.3.0, CHECK мог указываться, но не соблюдался.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Нет явных ограничений по числу полей или количестве ограничений в таблице. Общий размер данных в одной записи ограничен примерно 1 мб в версии 2.8. В версии 3.0 нет жесткого лимита на объем данных в записи.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Форма определения таблицы CREATE TABLE AS создает таблицу из результата запроса. Имена полей таблицы берутся именами полей в результате запросе.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Точный текст каждого запроса CREATE TABLE хранится в таблице sqlite_master. Каждый раз при открытии базы, все запросы CREATE TABLE считываются из таблицы sqlite_master и используются для генерации внутреннего представления SQLite. Если оригинальной командой была CREATE TABLE AS, тогда создается ее эквивалент CREATE TABLE, который сохраняется в sqlite_master вместо оригинального запроса. Текст CREATE TEMPORARY TABLE хранится в таблице sqlite_temp_master. </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если указан опциональный оператор IF NOT EXISTS и уже есть другая таблица с таким именем, то команда не выполняется.</p></body></html>
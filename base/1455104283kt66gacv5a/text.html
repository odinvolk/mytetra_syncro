<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600; color:#000000;">Видеорегистрация + видеонаблюдение для дома в Linux </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:7.8pt;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">Надумал и я побаловаться созданием простой и дешевой домашней </span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-weight:600;">системы видеонаблюдения и видеорегистрации</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;"> (сподвигла меня на это </span><a href="http://dimio.org/e3f466/W0cQFVgXGxNFEh5MWVtTFhYRQh5eWQQASltWABwcVUsCAlVKUgEMSwNLUUdI/"><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; text-decoration: underline; color:#0000ff;">статья</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;"> из журнала «Хакер»). Естественно, что идея использовать веб-камеру и домашний компьютер в данном случае выглядит наиболее привлекательной.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-weight:600;">Веб-камера для Linux</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">Свой </span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-weight:600;">выбор веб-камеры для Linux</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;"> я остановил на </span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-style:italic;">Logitech Webcam C120</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;"> по ряду причин: во-первых, она отличается приемлемым качеством картинка (изображение с камер Genius аналогичного ценового диапазона меня не впечатлило совсем), во-вторых — </span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-style:italic;">камера работает по протоколу UVC, что означает её поддержку ядром Linux «из коробки»</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;"> (штатно поддержка добавлена в ядро Linux с версии </span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-weight:600;">2.6.26</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">, также в Linux заработают веб-камеры, управляемые драйвером GSPCA) и в-третьих — эта веб-камера стоит всего 500 рублей и её мне не жалко разобрать с целью </span><a href="http://dimio.org/sozdanie-infrakrasnoj-kamery-nochnogo-videniya-iz-veb-kamery.html"><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-weight:600; text-decoration: underline; color:#0000ff;">создания</span></a><a href="http://dimio.org/sozdanie-infrakrasnoj-kamery-nochnogo-videniya-iz-veb-kamery.html"><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; text-decoration: underline; color:#0000ff;"> из неё ИК-камеры (</span></a><a href="http://dimio.org/sozdanie-infrakrasnoj-kamery-nochnogo-videniya-iz-veb-kamery.html"><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-weight:600; text-decoration: underline; color:#0000ff;">камеры «ночного видения»</span></a><a href="http://dimio.org/sozdanie-infrakrasnoj-kamery-nochnogo-videniya-iz-veb-kamery.html"><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; text-decoration: underline; color:#0000ff;">)</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="more-286"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-weight:600;">П</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-weight:600;">роцесс создания системы домашнего видеонаблюдения под Linux по шагам.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">Подключаем камеру. В моём случае всё заводится самостоятельно (потому и выбрал данную камеру). Если камера подключена, а картинки нет — стоит проверить, добавлен ли текущий пользователь в группу </span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-style:italic;">video</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;"> и при необходимости добавить его туда.<br /></span><a name="camera-checking"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">К</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">стати, проверить работоспособность камеры поможет обыкновенный </span><a href="http://dimio.org/mplayer-vseyadnyj-videoproigryvatel.html"><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-style:italic; text-decoration: underline; color:#0000ff;">mplayer</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">, достаточно лишь запустить его следующим образом:<br /></span><span style=" font-family:'Courier New,courier'; font-size:7.8pt;">mplayer -cache 128 -tv driver=v4l2:width=640:height=480:device=/dev/video0 -vo xv tv://</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;"><br />Если что-то пошло не так — внимательно читаем лог ошибок. Например может понадобиться указать другое устройство вывода (</span><span style=" font-family:'Courier New,courier'; font-size:7.8pt;">-vo x11</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">) — они перечислены по вызову </span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-style:italic;">mplayer -vo help</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-weight:600;">Использование программы Motion для организации видеонаблюдения</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">В качестве ПО для системы домашнего видеонаблюдения я выбрал программу </span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-weight:600;">Motion</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;"> (присутствует в репозитории Debian, для работы требуется </span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-style:italic;">ffmpeg</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">). Можно попробовать её аналоги, например </span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-weight:600;">ZoneMinder</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;"> или </span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-weight:600;">AVReg</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">, но поскольку Motion меня полностью устроила и именно она идёт первой в списках многих обзоров подобного софта — я заниматься тестированием не стал и просто использовал её.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">Итак, что же может предложить Motion желающим собрать систему видеонаблюдения дома:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Поддержка работы с несколькими камерами (я рассмотрю вариант с одной камерой, поддержка дополнительных камер подключается в основаном конфиге, а их настройки описываются в отдельных файлах).</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Непрерывная трансляция изображения с веб-камеры с сохранинием транслируемго потока на носитель (поддерживаются различные форматы сохранения потока) — иными словами, это ни что иное, как постоянная видеорегистрация. </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Отслеживание наличия изменений на изображении, получаемом с камеры, и включение записи в случае обнаружения таких изменений — программа реагирует на движение и начинает запись только в этом случае (подробнее о настройках детекции движения расскажу ниже).</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Трансляция изображения с камеры в сеть посредством собственного небольшого HTTP-сервера (просмтор возможен как с локальной, так и с удалённой машины).</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Выполнение произвольного скрипта в при заданном условии (например при обноружении движения можно запускать скрипт оповещения по почте/смс/телефону или проигрывать трубный звук и т.п.).</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">Работает Motion в режиме демона и настраивается при помощи правки конфигурационного файла, расположенного по адресу </span><span style=" font-family:'Courier New,courier'; font-size:7.8pt;">/etc/motion/motion.conf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;"> и весьма подробно откомментированного на простом английском.<br />Перед изменением рекомендую скопировать конфигурационный файл в свою домашнюю директорию и в дальнейшем работать с этой копией, если ваши задачи не требуют иного:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">mkdir ~/.motion<br />sudo cp /etc/motion/motion.conf ~/.motion/<br />sudo chown user:group ~/.motion/motion.conf</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="motion-config"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-weight:600;">Н</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-weight:600;">астройка Motion — правим motion.conf</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">Остановлюсь подробней на некоторых настройках, которые, на мой взгляд, могут потребовать правки:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Запуск в режиме демона<br /># Start in daemon (background) mode and release terminal (default: off)<br /><span style=" font-family:'Courier New,courier';">daemon on</span></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Устройство для захвата видео — если камера одна — оставить как есть, иначе изменить на video1…videoN по необходимости<br /># Videodevice to be used for capturing (default /dev/video0)<br /># for FreeBSD default is /dev/bktr0<br /><span style=" font-family:'Courier New,courier';">videodevice /dev/video0</span></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Какой вход для видео использовать. В случае USB-камеры оставить как есть.<br /># The video input to be used (default: 8 )<br /># Should normally be set to 0 or 1 for video/TV cards, and 8 for USB cameras<br /><span style=" font-family:'Courier New,courier';">input 8</span></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Разрешение видео, выдаваемое камерой — отредактировать в соответствии с характеристиками своей камеры<br /># Image width (pixels). Valid range: Camera dependent, default: 352<br /><span style=" font-family:'Courier New,courier';">width 640</span><br /># Image height (pixels). Valid range: Camera dependent, default: 288<br /><span style=" font-family:'Courier New,courier';">height 480</span></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Число кадров в секунду — опять же в соответствии с характеристиками камеры (к примеру некоторые камеры позволяют снимать с бОльшим разрешением, но меньшей частотой кадров или наоборот). Для PAL стандартное значение — 25 кадров/сек.<br /># Maximum number of frames to be captured per second.<br /># Valid range: 2-100. Default: 100 (almost no limit).<br /><span style=" font-family:'Courier New,courier';">framerate 30</span></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">После какого количества секунд отсутствия движения будет перезапущена запись (а файл перезаписан).<br /><span style=" font-family:'Courier New,courier';">gap 60</span></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Ограничение размера файла с записью (в секундах). В случае ненулевого значения после превышения лимита будет создаваться новый файл.<br /># Maximum length in seconds of an mpeg movie<br /># When value is exceeded a new mpeg file is created. (Default: 0 = infinite)<br /><span style=" font-family:'Courier New,courier';">max_mpeg_time 0</span></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Сколько времени (в секундах) вести запись в один файл. После превышения предела создаётся новый файл.<br /># The file rollover mode of the timelapse video<br /># Valid values: hourly (ежечасно), daily (ежедневно, default), weekly-sunday (еженедельно, начало недели в Вс), weekly-monday (аналогично с началом в Пн), monthly (ежемесячно), manual (вручную).<br /><span style=" font-family:'Courier New,courier';">ffmpeg_timelapse_mode hourly</span></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Варианты сохранения скриншота с движением — все подряд (on), ни одного (off), первый (first), лучший (best) или с движением ближе к центру изображения (center).<br /><span style=" font-family:'Courier New,courier';">output_normal best</span></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Сохранение потока с камеры как видеофайла.<br /># Use ffmpeg to encode mpeg movies in realtime (default: off)<br /><span style=" font-family:'Courier New,courier';">ffmpeg_cap_new on</span></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Выбор кодека, которым будет обработан сохраняемый видеопоток (поддерживаемые кодеки подробно перечислены в конфиге). Выбранный кодек должен быть установлен в системе, иначе при запуске Motion будет выдавать ошибку.<br /><span style=" font-family:'Courier New,courier';">ffmpeg_video_codec mpeg4</span></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Путь к каталогу, в котором будет храниться отснятый материал.<br /><span style=" font-family:'Courier New,courier';">target_dir /home/user/camera_video</span></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Номер порта, на котором будет работать встроенный http-сервер Motion — при необходимости прописать любой свободный порт.<br /># The mini-http server listens to this port for requests (default: 0 = disabled)<br /><span style=" font-family:'Courier New,courier';">webcam_port 8081</span></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Процент качества для сжимаемых в jpeg изображений с камеры, которые будут выводиться в браузер.<br /># Quality of the jpeg images produced (default: 50)<br /><span style=" font-family:'Courier New,courier';">webcam_quality 90</span></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Частота обновления видео в браузере (кадров в секунду) в случае отсутствия зарегистрированного движения — если не планируется просматривать изображение с камеры периодически, то можно отключить. При обнаружении движения частота обновления станет равной параметру webcam_maxrate.<br /># Output frames at 1 fps when no motion is detected and increase to the<br /># rate given by webcam_maxrate when motion is detected (default: off)<br /><span style=" font-family:'Courier New,courier';">webcam_motion 2</span></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Частота обновления видео в браузере в случае регистрации движения программой.<br /># Maximum framerate for webcam streams (default: 1)<br /><span style=" font-family:'Courier New,courier';">webcam_maxrate 10</span></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Разрешить (off) или запретить (on) доступ к просмотру камеры с удаленных машин.<br /># Restrict webcam connections to localhost only (default: on)<br /><span style=" font-family:'Courier New,courier';">webcam_localhost on</span></li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">Остальные настройки стоит менять при необходимости (весьма подробно настройки Motion описаны в статье, ссылка на которую дана в начале заметки), приведенного выше на мой взгляд достаточно для нормальной работы с Motion. Первый запуск можно осуществить с ключом </span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-style:italic;">-n</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">, чтобы программа не переходила в режим демона — это позволит получить диагностические сообщения прямо в консоль.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;">Для проверки работы программы можно зайти веб-браузером на адрес </span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-style:italic;">http://localhost:8081</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;"> и полюбоваться на результат своих трудов. Также нужно отметить, что веб-интерфейс позволяет производить настройку Motion (удобно при нескольких камерах), для чего нужно внести соответствующие изменения в секцию </span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt; font-style:italic;">HTTP Based Control</span><span style=" font-family:'MS Shell Dlg 2'; font-size:7.8pt;"> конфигурационного файла программы.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">В заключение дам motion.conf, который у меня получился в результате:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a1009;"># Rename this distribution example file to motion.conf</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">#</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># This config file was generated by motion 3.2.12</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Daemon</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Start in daemon (background) mode and release terminal (default: off)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />daemon on<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># File to store the process ID, also called pid file. (default: not defined)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />process_id_file /var/run/motion/motion.pid<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Basic Setup Mode</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Start in Setup-Mode, daemon disabled. (default: off)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />setup_mode off<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">###########################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Capture device options</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Videodevice to be used for capturing  (default /dev/video0)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># for FreeBSD default is /dev/bktr0</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />videodevice /dev/video0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># v4l2_palette allows to choose preferable palette to be use by motion</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># to capture from those supported by your videodevice. (default: 8)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># E.g. if your videodevice supports both V4L2_PIX_FMT_SBGGR8 and</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># V4L2_PIX_FMT_MJPEG then motion will by default use V4L2_PIX_FMT_MJPEG.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Setting v4l2_palette to 1 forces motion to use V4L2_PIX_FMT_SBGGR8</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># instead.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">#</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Values :</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># V4L2_PIX_FMT_SN9C10X : 0  'S910'</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># V4L2_PIX_FMT_SBGGR8  : 1  'BA81'</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># V4L2_PIX_FMT_MJPEG   : 2  'MJPEG'</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># V4L2_PIX_FMT_JPEG    : 3  'JPEG'</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># V4L2_PIX_FMT_RGB24   : 4  'RGB3'</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># V4L2_PIX_FMT_UYVY    : 5  'UYVY'</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># V4L2_PIX_FMT_YUYV    : 6  'YUYV'</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># V4L2_PIX_FMT_YUV422P : 7  '422P'</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># V4L2_PIX_FMT_YUV420  : 8  'YU12'</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />v4l2_palette 8<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Tuner device to be used for capturing using tuner as source (default /dev/tuner0)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># This is ONLY used for FreeBSD. Leave it commented out for Linux</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; tunerdevice /dev/tuner0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># The video input to be used (default: 8)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Should normally be set to 0 or 1 for video/TV cards, and 8 for USB cameras</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />input 8<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># The video norm to use (only for video capture and TV tuner cards)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Values: 0 (PAL), 1 (NTSC), 2 (SECAM), 3 (PAL NC no colour). Default: 0 (PAL)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />norm 0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># The frequency to set the tuner to (kHz) (only for TV tuner cards) (default: 0)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />frequency 0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Rotate image this number of degrees. The rotation affects all saved images as</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># well as mpeg movies. Valid values: 0 (default = no rotation), 90, 180 and 270.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />rotate 0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Image width (pixels). Valid range: Camera dependent, default: 352</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />width 640<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Image height (pixels). Valid range: Camera dependent, default: 288</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />height 480<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Maximum number of frames to be captured per second.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Valid range: 2-100. Default: 100 (almost no limit).</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />framerate 30<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Minimum time in seconds between capturing picture frames from the camera.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Default: 0 = disabled - the capture rate is given by the camera framerate.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># This option is used when you want to capture images at a rate lower than 2 per second.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />minimum_frame_time 0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># URL to use if you are using a network camera, size will be autodetected (incl http:// ftp:// or file:///)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Must be a URL that returns single jpeg pictures or a raw mjpeg stream. Default: Not defined</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; netcam_url value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Username and password for network camera (only if required). Default: not defined</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Syntax is user:password</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; netcam_userpass value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># The setting for keep-alive of network socket, should improve performance on compatible net cameras.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># 1.0:         The historical implementation using HTTP/1.0, closing the socket after each http request.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># keep_alive:  Use HTTP/1.0 requests with keep alive header to reuse the same connection.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># 1.1:         Use HTTP/1.1 requests that support keep alive as default.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Default: 1.0</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; netcam_http 1.0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># URL to use for a netcam proxy server, if required, e.g. &quot;http://myproxy&quot;.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># If a port number other than 80 is needed, use &quot;http://myproxy:1234&quot;.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Default: not defined</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; netcam_proxy value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Set less strict jpeg checks for network cameras with a poor/buggy firmware.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Default: off</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />netcam_tolerant_check off<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Let motion regulate the brightness of a video device (default: off).</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># The auto_brightness feature uses the brightness option as its target value.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># If brightness is zero auto_brightness will adjust to average brightness value 128.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Only recommended for cameras without auto brightness</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />auto_brightness off<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Set the initial brightness of a video device.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># If auto_brightness is enabled, this value defines the average brightness level</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># which Motion will try and adjust to.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Valid range 0-255, default 0 = disabled</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />brightness 0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Set the contrast of a video device.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Valid range 0-255, default 0 = disabled</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />contrast 0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Set the saturation of a video device.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Valid range 0-255, default 0 = disabled</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />saturation 0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Set the hue of a video device (NTSC feature).</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Valid range 0-255, default 0 = disabled</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />hue 0<br /><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Round Robin (multiple inputs on same video device name)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Number of frames to capture in each roundrobin step (default: 1)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />roundrobin_frames 1<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Number of frames to skip before each roundrobin step (default: 1)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />roundrobin_skip 1<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Try to filter out noise generated by roundrobin (default: off)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />switchfilter off<br /><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Motion Detection Settings:</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Threshold for number of changed pixels in an image that</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># triggers motion detection (default: 1500)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />threshold 1500<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Automatically tune the threshold down if possible (default: off)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />threshold_tune off<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Noise threshold for the motion detection (default: 32)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />noise_level 32<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Automatically tune the noise threshold (default: on)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />noise_tune on<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Despeckle motion image using (e)rode or (d)ilate or (l)abel (Default: not defined)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Recommended value is EedDl. Any combination (and number of) of E, e, d, and D is valid.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># (l)abeling must only be used once and the 'l' must be the last letter.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Comment out to disable</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />despeckle EedDl<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Detect motion in predefined areas (1 - 9). Areas are numbered like that:  1 2 3</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># A script (on_area_detected) is started immediately when motion is         4 5 6</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># detected in one of the given areas, but only once during an event.        7 8 9</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># One or more areas can be specified with this option. (Default: not defined)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; area_detect value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># PGM file to use as a sensitivity mask.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Full path name to. (Default: not defined)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; mask_file value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Dynamically create a mask file during operation (default: 0)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Adjust speed of mask changes from 0 (off) to 10 (fast)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />smart_mask_speed 0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Ignore sudden massive light intensity changes given as a percentage of the picture</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># area that changed intensity. Valid range: 0 - 100 , default: 0 = disabled</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />lightswitch 0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Picture frames must contain motion at least the specified number of frames</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># in a row before they are detected as true motion. At the default of 1, all</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># motion is detected. Valid range: 1 to thousands, recommended 1-5</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />minimum_motion_frames 5<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Specifies the number of pre-captured (buffered) pictures from before motion</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># was detected that will be output at motion detection.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Recommended range: 0 to 5 (default: 0)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Do not use large values! Large values will cause Motion to skip video frames and</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># cause unsmooth mpegs. To smooth mpegs use larger values of post_capture instead.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />pre_capture 1<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Number of frames to capture after motion is no longer detected (default: 0)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />post_capture 1<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Gap is the seconds of no motion detection that triggers the end of an event</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># An event is defined as a series of motion images taken within a short timeframe.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Recommended value is 60 seconds (Default). The value 0 is allowed and disables</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># events causing all Motion to be written to one single mpeg file and no pre_capture.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />gap 60<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Maximum length in seconds of an mpeg movie</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># When value is exceeded a new mpeg file is created. (Default: 0 = infinite)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />max_mpeg_time 0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Always save images even if there was no motion (default: off)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />output_all off<br /><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Image File Output</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Output 'normal' pictures when motion is detected (default: on)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Valid values: on, off, first, best, center</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># When set to 'first', only the first picture of an event is saved.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Picture with most motion of an event is saved when set to 'best'.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Picture with motion nearest center of picture is saved when set to 'center'.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Can be used as preview shot for the corresponding movie.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />output_normal best<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Output pictures with only the pixels moving object (ghost images) (default: off)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />output_motion off<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># The quality (in percent) to be used by the jpeg compression (default: 75)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />quality 100<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Output ppm images instead of jpeg (default: off)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />ppm off<br /><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># FFMPEG related options</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Film (mpeg) file output, and deinterlacing of the video input</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># The options movie_filename and timelapse_filename are also used</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># by the ffmpeg feature</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Use ffmpeg to encode mpeg movies in realtime (default: off)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />ffmpeg_cap_new on<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Use ffmpeg to make movies with only the pixels moving</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># object (ghost images) (default: off)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />ffmpeg_cap_motion off<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Use ffmpeg to encode a timelapse movie</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Default value 0 = off - else save frame every Nth second</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />ffmpeg_timelapse 60<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># The file rollover mode of the timelapse video</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Valid values: hourly, daily (default), weekly-sunday, weekly-monday, monthly, manual</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />ffmpeg_timelapse_mode hourly<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Bitrate to be used by the ffmpeg encoder (default: 400000)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># This option is ignored if ffmpeg_variable_bitrate is not 0 (disabled)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />ffmpeg_bps 500000<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Enables and defines variable bitrate for the ffmpeg encoder.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># ffmpeg_bps is ignored if variable bitrate is enabled.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Valid values: 0 (default) = fixed bitrate defined by ffmpeg_bps,</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># or the range 2 - 31 where 2 means best quality and 31 is worst.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />ffmpeg_variable_bitrate 0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Codec to used by ffmpeg for the video compression.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Timelapse mpegs are always made in mpeg1 format independent from this option.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Supported formats are: mpeg1 (ffmpeg-0.4.8 only), mpeg4 (default), and msmpeg4.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># mpeg1 - gives you files with extension .mpg</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># mpeg4 or msmpeg4 - gives you files with extension .avi</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># msmpeg4 is recommended for use with Windows Media Player because</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># it requires no installation of codec on the Windows client.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># swf - gives you a flash film with extension .swf</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># flv - gives you a flash video with extension .flv</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># ffv1 - FF video codec 1 for Lossless Encoding ( experimental )</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># mov - QuickTime ( testing )</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />ffmpeg_video_codec mpeg4<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Use ffmpeg to deinterlace video. Necessary if you use an analog camera</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># and see horizontal combing on moving objects in video or pictures.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># (default: off)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />ffmpeg_deinterlace off<br /><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Snapshots (Traditional Periodic Webcam File Output)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Make automated snapshot every N seconds (default: 0 = disabled)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />snapshot_interval 0<br /><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Text Display</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %Y = year, %m = month, %d = date,</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %H = hour, %M = minute, %S = second, %T = HH:MM:SS,</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %v = event, %q = frame number, %t = thread (camera) number,</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %D = changed pixels, %N = noise level, \n = new line,</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %i and %J = width and height of motion area,</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %K and %L = X and Y coordinates of motion center</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %C = value defined by text_event - do not use with text_event!</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># You can put quotation marks around the text to allow</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># leading spaces</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Locate and draw a box around the moving object.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Valid values: on, off and preview (default: off)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Set to 'preview' will only draw a box in preview_shot pictures.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Выделение на видео движущегося объекта, на который среагировала</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># программа</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />locate off<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Draws the timestamp using same options as C function strftime(3)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Default: %Y-%m-%d\n%T = date in ISO format and time in 24 hour clock</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Text is placed in lower right corner</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />text_right %d-%m-%Y\n%T-%q<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Draw a user defined text on the images using same options as C function strftime(3)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Default: Not defined = no text</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Text is placed in lower left corner</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; text_left CAMERA %t<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Draw the number of changed pixed on the images (default: off)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Will normally be set to off except when you setup and adjust the motion settings</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Text is placed in upper right corner</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />text_changes off<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># This option defines the value of the special event conversion specifier %C</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># You can use any conversion specifier in this option except %C. Date and time</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># values are from the timestamp of the first image in the current event.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Default: %Y%m%d%H%M%S</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># The idea is that %C can be used filenames and text_left/right for creating</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># a unique identifier for each event.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />text_event %Y-%m-%d-%T<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Draw characters at twice normal size on images. (default: off)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />text_double off<br /><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Target Directories and filenames For Images And Films</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># For the options snapshot_, jpeg_, mpeg_ and timelapse_filename</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># you can use conversion specifiers</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %Y = year, %m = month, %d = date,</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %H = hour, %M = minute, %S = second,</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %v = event, %q = frame number, %t = thread (camera) number,</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %D = changed pixels, %N = noise level,</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %i and %J = width and height of motion area,</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %K and %L = X and Y coordinates of motion center</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %C = value defined by text_event</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Quotation marks round string are allowed.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Target base directory for pictures and films</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Recommended to use absolute path. (Default: current working directory)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />target_dir /home/b00/Documents/WebCam<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># File path for snapshots (jpeg or ppm) relative to target_dir</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Default: %v-%Y%m%d%H%M%S-snapshot</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Default value is equivalent to legacy oldlayout option</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># For Motion 3.0 compatible mode choose: %Y/%m/%d/%H/%M/%S-snapshot</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># File extension .jpg or .ppm is automatically added so do not include this.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Note: A symbolic link called lastsnap.jpg created in the target_dir will always</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># point to the latest snapshot, unless snapshot_filename is exactly 'lastsnap'</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />snapshot_filename %v-%Y-%m-%d-%H:%M:%S-snapshot<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># File path for motion triggered images (jpeg or ppm) relative to target_dir</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Default: %v-%Y%m%d%H%M%S-%q</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Default value is equivalent to legacy oldlayout option</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># For Motion 3.0 compatible mode choose: %Y/%m/%d/%H/%M/%S-%q</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># File extension .jpg or .ppm is automatically added so do not include this</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Set to 'preview' together with best-preview feature enables special naming</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># convention for preview shots. See motion guide for details</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />jpeg_filename %v-%Y%m%d%H%M%S-%q<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># File path for motion triggered ffmpeg films (mpeg) relative to target_dir</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Default: %v-%Y%m%d%H%M%S</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Default value is equivalent to legacy oldlayout option</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># For Motion 3.0 compatible mode choose: %Y/%m/%d/%H%M%S</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># File extension .mpg or .avi is automatically added so do not include this</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># This option was previously called ffmpeg_filename</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />movie_filename %v-%Y-%m-%d-%H:%M:%S<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># File path for timelapse mpegs relative to target_dir</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Default: %Y%m%d-timelapse</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Default value is near equivalent to legacy oldlayout option</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># For Motion 3.0 compatible mode choose: %Y/%m/%d-timelapse</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># File extension .mpg is automatically added so do not include this</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />timelapse_filename %Y-%m-%d-timelapse<br /><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Live Webcam Server</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># The mini-http server listens to this port for requests (default: 0 = disabled)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />webcam_port 8081<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Quality of the jpeg (in percent) images produced (default: 50)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />webcam_quality 50<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Output frames at 1 fps when no motion is detected and increase to the</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># rate given by webcam_maxrate when motion is detected (default: off)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />webcam_motion 2<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Maximum framerate for webcam streams (default: 1)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />webcam_maxrate 10<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Restrict webcam connections to localhost only (default: on)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />webcam_localhost on<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Limits the number of images per connection (default: 0 = unlimited)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Number can be defined by multiplying actual webcam rate by desired number of seconds</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Actual webcam rate is the smallest of the numbers framerate and webcam_maxrate</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />webcam_limit 0<br /><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># HTTP Based Control</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># TCP/IP port for the http server to listen on (default: 0 = disabled)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />control_port 8080<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Restrict control connections to localhost only (default: on)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />control_localhost on<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Output for http server, select off to choose raw text plain (default: on)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />control_html_output on<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Authentication for the http based control. Syntax username:password</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Default: not defined (Disabled)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; control_authentication username:password<br /><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Tracking (Pan/Tilt)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Type of tracker (0=none (default), 1=stepper, 2=iomojo, 3=pwc, 4=generic, 5=uvcvideo)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># The generic type enables the definition of motion center and motion size to</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># be used with the conversion specifiers for options like on_motion_detected</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />track_type 0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Enable auto tracking (default: off)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />track_auto off<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Serial port of motor (default: none)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; track_port value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Motor number for x-axis (default: 0)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />track_motorx 0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Motor number for y-axis (default: 0)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />track_motory 0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Maximum value on x-axis (default: 0)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />track_maxx 0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Maximum value on y-axis (default: 0)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />track_maxy 0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># ID of an iomojo camera if used (default: 0)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />track_iomojo_id 0<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Angle in degrees the camera moves per step on the X-axis</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># with auto-track (default: 10)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Currently only used with pwc type cameras</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />track_step_angle_x 10<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Angle in degrees the camera moves per step on the Y-axis</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># with auto-track (default: 10)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Currently only used with pwc type cameras</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />track_step_angle_y 10<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Delay to wait for after tracking movement as number</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># of picture frames (default: 10)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />track_move_wait 10<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Speed to set the motor to (stepper motor option) (default: 255)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />track_speed 255<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Number of steps to make (stepper motor option) (default: 40)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />track_stepsize 40<br /><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># External Commands, Warnings and Logging:</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># You can use conversion specifiers for the on_xxxx commands</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %Y = year, %m = month, %d = date,</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %H = hour, %M = minute, %S = second,</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %v = event, %q = frame number, %t = thread (camera) number,</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %D = changed pixels, %N = noise level,</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %i and %J = width and height of motion area,</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %K and %L = X and Y coordinates of motion center</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %C = value defined by text_event</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %f = filename with full path</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %n = number indicating filetype</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Both %f and %n are only defined for on_picture_save,</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># on_movie_start and on_movie_end</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Quotation marks round string are allowed.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Do not sound beeps when detecting motion (default: on)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Note: Motion never beeps when running in daemon mode.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />quiet on<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Command to be executed when an event starts. (default: none)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># An event starts at first motion detected after a period of no motion defined by gap </span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; on_event_start value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Command to be executed when an event ends after a period of no motion</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># (default: none). The period of no motion is defined by option gap.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; on_event_end value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Command to be executed when a picture (.ppm|.jpg) is saved (default: none)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># To give the filename as an argument to a command append it with %f</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; on_picture_save value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Command to be executed when a motion frame is detected (default: none)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; on_motion_detected value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Command to be executed when motion in a predefined area is detected</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Check option 'area_detect'.   (default: none)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; on_area_detected value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Command to be executed when a movie file (.mpg|.avi) is created. (default: none)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># To give the filename as an argument to a command append it with %f</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; on_movie_start value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Command to be executed when a movie file (.mpg|.avi) is closed. (default: none)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># To give the filename as an argument to a command append it with %f</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; on_movie_end value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Command to be executed when a camera can't be opened or if it is lost</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># NOTE: There is situations when motion doesn't detect a lost camera!</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># It depends on the driver, some drivers don't detect a lost camera at all</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Some hang the motion thread. Some even hang the PC! (default: none)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; on_camera_lost value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Common Options For MySQL and PostgreSQL database features.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Options require the MySQL/PostgreSQL options to be active also.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Log to the database when creating motion triggered image file  (default: on)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />sql_log_image on<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Log to the database when creating a snapshot image file (default: on)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />sql_log_snapshot on<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Log to the database when creating motion triggered mpeg file (default: off)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />sql_log_mpeg off<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Log to the database when creating timelapse mpeg file (default: off)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />sql_log_timelapse off<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># SQL query string that is sent to the database</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Use same conversion specifiers has for text features</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Additional special conversion specifiers are</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %n = the number representing the file_type</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># %f = filename with full path</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Default value:</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># insert into security(camera, filename, frame, file_type, time_stamp, text_event) values('%t', '%f', '%q', '%n', '%Y-%m-%d %T', '%C')</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />sql_query insert into security(camera, filename, frame, file_type, time_stamp, event_time_stamp) values(</span><span style=" font-family:'Courier New'; color:#6a1009;">'%t'</span><span style=" font-family:'Courier New'; color:#6a1009;">, </span><span style=" font-family:'Courier New'; color:#6a1009;">'%f'</span><span style=" font-family:'Courier New'; color:#6a1009;">, </span><span style=" font-family:'Courier New'; color:#6a1009;">'%q'</span><span style=" font-family:'Courier New'; color:#6a1009;">, </span><span style=" font-family:'Courier New'; color:#6a1009;">'%n'</span><span style=" font-family:'Courier New'; color:#6a1009;">, </span><span style=" font-family:'Courier New'; color:#6a1009;">'%Y-%m-%d %T'</span><span style=" font-family:'Courier New'; color:#6a1009;">, </span><span style=" font-family:'Courier New'; color:#6a1009;">'%C'</span><span style=" font-family:'Courier New'; color:#6a1009;">)<br /><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Database Options For MySQL</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Mysql database to log to (default: not defined)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; mysql_db value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># The host on which the database is located (default: localhost)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; mysql_host value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># User account name for MySQL database (default: not defined)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; mysql_user value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># User password for MySQL database (default: not defined)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; mysql_password value<br /><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Database Options For PostgreSQL</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># PostgreSQL database to log to (default: not defined)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; pgsql_db value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># The host on which the database is located (default: localhost)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; pgsql_host value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># User account name for PostgreSQL database (default: not defined)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; pgsql_user value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># User password for PostgreSQL database (default: not defined)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; pgsql_password value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Port on which the PostgreSQL database is located (default: 5432)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; pgsql_port 5432<br /><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Video Loopback Device (vloopback project)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Output images to a video4linux loopback device</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># The value '-' means next available (default: not defined)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; video_pipe value<br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Output motion images to a video4linux loopback device</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># The value '-' means next available (default: not defined)</span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; motion_video_pipe value<br /><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">##############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Thread config files - One for each camera.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Except if only one camera - You only need this config file.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># If you have more than one camera you MUST define one thread</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># config file for each camera in addition to this config file.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;">##############################################################</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Remember: If you have more than one camera you must have one</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># thread file for each camera. E.g. 2 cameras requires 3 files:</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># This motion.conf file AND thread1.conf and thread2.conf.</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># Only put the options that are unique to each camera in the</span><span style=" font-family:'Courier New'; color:#6a1009;"><br /></span><span style=" font-family:'Courier New'; color:#6a1009;"># thread config files. </span><span style=" font-family:'Courier New'; color:#6a1009;"><br />; thread /usr/local/etc/thread1.conf<br />; thread /usr/local/etc/thread2.conf<br />; thread /usr/local/etc/thread3.conf<br />; thread /usr/local/etc/thread4.conf<br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:7.8pt;"><br /></p></body></html>
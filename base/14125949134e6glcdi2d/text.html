<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Пример входа на сайт через логин-пароль.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вначале вытягивается страница входа с полями логин-пароль и спецполем token. Потом пересылается логин-пароль и токен через POST и вытягивается страница уже после логина.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">// инициализируем cURL</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">$curl</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">=</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><a href="http://www.php.su/curl_init"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_init</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">();</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">/*Дальше устанавливаем опции запроса в любом порядке*/</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//Здесь устанавливаем URL к которому нужно обращаться</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_URL</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">'https://www.olark.com/login/');</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//Настойка опций cookie</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_COOKIEJAR</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">'cook.txt');</span><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//сохранить куки в файл</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_COOKIEFILE</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">'cook.txt');</span><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//считать куки из файла</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//устанавливаем наш вариат клиента (браузера) и вид ОС</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_USERAGENT</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">&quot;Opera/10.00 (Windows NT 5.1; U; ru) Presto/2.2.0&quot;);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//Установите эту опцию в ненулевое значение, если вы хотите, чтобы PHP завершал работу скрыто, если возвращаемый HTTP-код имеет значение выше 300. По умолчанию страница возвращается нормально с игнорированием кода.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_FAILONERROR</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> 1</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//Устанавливаем значение referer - адрес последней активной страницы</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_REFERER</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">'http://www.olark.com/');</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//Максимальное время в секундах, которое вы отводите для работы CURL-функций.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_TIMEOUT</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> 3</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_POST</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> 1</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">);</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">// устанавливаем метод POST</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//ответственный момент здесь мы передаем наши переменные</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_POSTFIELDS</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">'http://www.olark.com/login/');</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//Установите эту опцию в ненулевое значение, если вы хотите, чтобы шапка/header ответа включалась в вывод.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_HEADER</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> 1</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//Внимание, важный момент, сертификатов, естественно, у нас нет, так что все отключаем</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_SSL_VERIFYPEER</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> 0</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">);</span><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">// не проверять SSL сертификат</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_SSL_VERIFYHOST</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> 0</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">);</span><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">// не проверять Host SSL сертификата</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_FOLLOWLOCATION</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> 1</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">);</span><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">// разрешаем редиректы</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_RETURNTRANSFER</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> 1</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">$html</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">=</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><a href="http://www.php.su/curl_exec"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_exec</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl);</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">// выполняем запрос и записываем в переменную</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_close"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_close</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl);</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">// заканчиваем работу curl</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//подключаем PHP Simple HTML DOM Parser с сайта http://simplehtmldom.sourceforge.net</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">include_once('simple_html_dom.php');</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">$html</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">=</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> str_get_html</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($html);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//ищем в странице некий authenticity_token и записываем его в переменную $token</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">$inputs</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">=</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">$html-&gt;find(&quot;input[name=authenticity_token]&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">$input</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">=</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">$inputs[</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">0</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">];</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">$token</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">=</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">$input-&gt;value;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">echo</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">$token;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">// Авторизуемся на сайте со значением authenticity_token в переменной $token</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">$curl</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">=</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><a href="http://www.php.su/curl_init"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_init</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">();</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">// инициализируем cURL</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">/*Дальше устанавливаем опции запроса в любом порядке*/</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//Здесь устанавливаем URL к которому нужно обращаться</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_URL</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">'https://www.olark.com/login/');</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//Настойка опций cookie</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_COOKIEJAR</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">'cook.txt');</span><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//сохранить куки в файл</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_COOKIEFILE</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">'cook.txt');</span><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//считать куки из файла</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//устанавливаем наш вариат клиента (браузера) и вид ОС</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_USERAGENT</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">&quot;Opera/10.00 (Windows NT 5.1; U; ru) Presto/2.2.0&quot;);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//Установите эту опцию в ненулевое значение, если вы хотите, чтобы PHP завершал работу скрыто, если возвращаемый HTTP-код имеет значение выше 300. По умолчанию страница возвращается нормально с игнорированием кода.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_FAILONERROR</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> 1</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//Устанавливаем значение referer - адрес последней активной страницы</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_REFERER</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">'http://www.olark.com/');</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//Максимальное время в секундах, которое вы отводите для работы CURL-функций.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_TIMEOUT</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> 3</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_POST</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> 1</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">);</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">// устанавливаем метод POST</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//ответственный момент здесь мы передаем наши переменные</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//замените значения your_name и your_pass на соответственные значения Вашей учетной записи</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_POSTFIELDS</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">'http://www.olark.com/login/&amp;authenticity_token='.$token.'&amp;username=Oboronitel&amp;password=Vladislavrkfc');</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//Установите эту опцию в ненулевое значение, если вы хотите, чтобы шапка/header ответа включалась в вывод.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_HEADER</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> 1</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">//Внимание, важный момент, сертификатов, естественно, у нас нет, так что все отключаем</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_SSL_VERIFYPEER</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> 0</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">);</span><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">// не проверять SSL сертификат</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_SSL_VERIFYHOST</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> 0</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">);</span><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">// не проверять Host SSL сертификата</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_setopt"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_setopt</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> CURLOPT_FOLLOWLOCATION</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">,</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> 1</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">);</span><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">// разрешаем редиректы</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New'; color:#6a1009; vertical-align:top;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">$result</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">=</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><a href="http://www.php.su/curl_exec"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_exec</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl);</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">// выполняем запрос и записываем в переменную</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.php.su/curl_close"><span style=" font-family:'Courier New'; text-decoration: underline; color:#6a1009; vertical-align:top;">curl_close</span></a><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">($curl);</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">// заканчиваем работу curl</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">echo</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;">$result;</span><span style=" font-family:'Courier New'; color:#6a1009; vertical-align:top;"> </span><span style=" font-family:'Courier New'; font-style:italic; color:#6a1009; vertical-align:top;">// Выводим на экран результат выполнения</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-style:italic; color:#666666; vertical-align:top;"></p></body></html>
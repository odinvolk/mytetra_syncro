<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'Sans Serif'; font-size:9pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Освоив этот инструмент, правильный администратор/разработчик может облегчить жизнь себе любимому, своим близким, вынужденным терпеть Linux на домашнем компьютере, сотрудникам в офисе, куда стремительно рвутся всё более удобоваримые дистрибутивы свободной ОС. Удобство скриптования в unix-системах эта программа легко подружит с удобством использования. Не берусь даже обрисовать все возможные применения.<br /><br /><br /><span style=" font-weight:600;">Пример</span>. Пропишем себе в crontab:<br /><br />-----8&lt;-----</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">*/15 0-3 * * * DISPLAY=:0.0 zenity --warning --title="Пора спать" --text="Завтра на работу"<br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">-----8&lt;-----</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">И система заботливо и настойчиво будет нас клонить ко сну каждые 15 минут с 0 до 3 ночи.<br /><br /><br /><span style=" font-weight:600;">Пример</span>. Статус ppp соединения плюс статистика в трее. <br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Связка следующая - есть два скриптика, ppptray и pppwatch. Первый загоняется в район автостарта любимого десктопа, второй крутится по крону раз в минуту. В результате имею статус соединения плюс статистику в трее. Больше, в принципе, мне и не надо. расширенную инфу могу посмотреть и более другими средствами.<br /><br />ppptray<br />-----8&lt;-----</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">#! /bin/bash<br />rm -f /tmp/zenity<br />mkfifo /tmp/zenity<br />exec tail -f /tmp/zenity | zenity --notification --listen <br />-----8&lt;-----</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">pppwatch<br />-----8&lt;-----</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">#! /bin/bash<br /><br />[[ -e /tmp/zenity ]] || exit 1 <br /><br />pppstats ppp0 &amp;&gt; /dev/null<br />[[ $? -eq 0 ]] &amp;&amp; STATUS=on || STATUS=off<br /><br />case $STATUS in<br />on)<br />echo "icon: /usr/desktop/share/icons/gnome/16x16/stock/net/stock_connect.png" &gt;&gt; /tmp/zenity<br />pppstats -a ppp0 | tail -n 1 | awk '{print "tooltip: In: " $1 "| Out: " $7}' &gt;&gt; /tmp/zenity<br />;;<br />off)<br />echo "icon: /usr/desktop/share/icons/gnome/16x16/stock/net/stock_disconnect.png" &gt;&gt; /tmp/zenity<br />echo "tooltip: no link" &gt;&gt; /tmp/zenity<br />;;<br />esac<br /><br />exit 0 <br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">-----8&lt;-----</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /><span style=" font-weight:600;">Пример</span>. Сканируем тучи документов и выполняем обработку изображений офисных документов в пару кликов. Секретарша будет на вас молится. Конечный документ А4 в 200dpi обычного вида (типа счёта с синей печатью и подписью) имеет типичный вес от 60 до 200 килобайт и формат png. Нужны установленные sane-utils и ImageMagic.<br /><br />-----8&lt;-----</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">#!/bin/sh<br /><br />TMP="image$$"<br /><br />while true; do<br /><br />scanimage \<br />-p \<br />--format tiff \<br />--resolution 200 \<br />-x 215 -y 297 \<br />2&gt; ~/$TMP.tiff \<br />3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 \<br />| perl -e '$/="\r";$|=1;while(){s/^\D+(\d+)\D.*$/$1\n/g;print;}' \<br />| zenity \<br />--progress \<br />--title="Сканирование" \<br />--text="Сканирую изображение. Пожалуйста, подождите..." <br /><br />if [ $? -eq 0 ]; then<br />FILE=""<br />while [ -z "$FILE" ]; do<br />FILE=`zenity \<br />--entry \<br />--title="Обработка" \<br />--text="Укажите имя файла для сохранения"`<br />done<br />convert $TMP.tiff -level 20%,80%,0.4 -format PNG8 -colors 8 $FILE.png<br />else<br />killall scanimage<br />fi<br /><br />rm -f $TMP.tiff<br /><br />zenity \<br />--question \<br />--title="Продолжим?" \<br />--text="Вы желаете продолжить сканирование? Не забудьте положить в сканер новый лист." \<br />|| return<br /><br />done <br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">-----8&lt;-----</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></body></html>
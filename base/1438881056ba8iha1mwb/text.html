<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="page-title"></a><span style=" font-size:xx-large; font-weight:600;">А</span><span style=" font-size:xx-large; font-weight:600;">рхитектура Модель-Вид-Контроллер в Qt</span> </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600; font-style:italic;">Примечание: </span><span style=" font-style:italic;">здесь показан пример простого случая, решение написано так, как того требует документация, так сказать &quot;в лоб&quot;. Модель содержит как стандартные методы, необходимые для реализации интерфейса, так и дополнительные &quot;для удобства&quot;. Такой подход сыграет злую шутку в тот момент, когда потребутся использовать прокси-модель. Потому что прокси-модель пропускает сквозь себя стандартные методы, и не умеет пропускать нестандартные. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600;">Использование классов Qt, основанных на архитектуре модель/представление</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif';">В </span><a href="http://qt.e-werest.org/blog/tutorial/2892.html"><span style=" font-family:'arial,helvetica,sans-serif'; text-decoration: underline; color:#0000ff;">предыдущих статьях </span></a><span style=" font-family:'arial,helvetica,sans-serif';">архитектура «Модель-Вид-Контроллер» была реализована в приложении «вручную»: все классы и соответствующие связи между ними определялись в программе явно. Но в Qt есть ряд классов уже применяющих этот подход. Использование их для решения задачи, в том числе и в качестве базовых классов, позволяет более удобно создавать сложные приложения.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600;">Архитектура Qt модель/представление</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif';">Интерфейс любой Qt-модели базируется на классе</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#800080;"> </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QAbstractItemModel</span><span style=" font-family:'arial,helvetica,sans-serif';">. Для того чтобы создать свою собственную модель, необходимо унаследовать либо этот класс, либо унаследованный от него. Например, его наследниками являются класс</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#4b0082;"> </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QAbstractListModel</span><span style=" font-family:'arial,helvetica,sans-serif';">, представляющий собой одномерный список и класс </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QAbstractTableModel </span><span style=" font-family:'arial,helvetica,sans-serif';">—двумерная таблица.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif';">Все классы представлений базируются на классе</span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;"> QAbstractItemView</span><span style=" font-family:'arial,helvetica,sans-serif';">. Для представления данных в Qt используются, в основном, три класса:  </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QListView</span><span style=" font-family:'arial,helvetica,sans-serif';"> (отображает данные в виде одномерного списка), </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QTableView</span><span style=" font-family:'arial,helvetica,sans-serif';"> (отображает данные в виде таблицы) и </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QTreeView</span><span style=" font-family:'arial,helvetica,sans-serif';"> (отображает данные в виде иерархического списка).</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">Задача</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Рассмотрим данные об организации как и в </span><a href="http://qt.e-werest.org/blog/tutorial/2923.html"><span style=" font-family:'arial,helvetica,sans-serif'; text-decoration: underline; color:#0000ff;">предыдущем примере</span></a><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">: название, количество сотрудников, праздник, дата корпоративного собрания по его поводу и количество выпитых напитков. Пусть необходимо хранить и редактировать сведения о нескольких таких организациях. Данные о новой организации вводит пользователь по своему желанию.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">Модель</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Основной моделью приложения теперь будет список организаций. Для его создания можно использовать контейнерный класс </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QList</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">. Это класс-шаблон, параметром которого является тип хранимых объектов. Мы будем хранить в нем объекты класса Organization. Этот класс был описан ранее, для решения данной задачи его можно немного упростить, убрав механизм сигналов и слотов и заменив конструктор с параметрами на конструктор по умолчанию. Заголовочный файл теперь будет выглядеть так:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'arial,helvetica,sans-serif'; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; color:#006e28;">#include &lt;QString&gt;</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">#include &lt;QDate&gt;</span><span style=" font-family:'monospace';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; color:#0057ae;">class</span><span style=" font-family:'monospace';"> Organization </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#0057ae;">public</span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"><br />    Organization</span><span style=" font-family:'monospace'; color:#006e28;">():</span><span style=" font-family:'monospace';">drinkVolume</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#b08000;">0</span><span style=" font-family:'monospace'; color:#006e28;">),</span><span style=" font-family:'monospace';"> personnel</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#b08000;">1</span><span style=" font-family:'monospace'; color:#006e28;">){};</span><span style=" font-family:'monospace';"><br />    </span><a href="http://doc.trolltech.com/latest/qdate.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QDate</span></a><span style=" font-family:'monospace';"> getDate</span><span style=" font-family:'monospace'; color:#006e28;">()</span><span style=" font-family:'monospace';"> const</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#0057ae;">double</span><span style=" font-family:'monospace';"> getDrinkVolume</span><span style=" font-family:'monospace'; color:#006e28;">()</span><span style=" font-family:'monospace';"> const</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';"><br />    </span><a href="http://doc.trolltech.com/latest/qstring.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QString</span></a><span style=" font-family:'monospace';"> getHoliday</span><span style=" font-family:'monospace'; color:#006e28;">()</span><span style=" font-family:'monospace';"> const</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';"><br />    </span><a href="http://doc.trolltech.com/latest/qstring.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QString</span></a><span style=" font-family:'monospace';"> getName</span><span style=" font-family:'monospace'; color:#006e28;">()</span><span style=" font-family:'monospace';"> const</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#0057ae;">int</span><span style=" font-family:'monospace';"> getPersonnel</span><span style=" font-family:'monospace'; color:#006e28;">()</span><span style=" font-family:'monospace';"> const</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#0057ae;">double</span><span style=" font-family:'monospace';"> getDrunkPerPerson</span><span style=" font-family:'monospace'; color:#006e28;">()</span><span style=" font-family:'monospace';"> const</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#0057ae;">void</span><span style=" font-family:'monospace';"> setDate</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#0057ae;">const</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qdate.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QDate</span></a><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">&amp;</span><span style=" font-family:'monospace';">date</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#0057ae;">void</span><span style=" font-family:'monospace';"> setDrinkVolume</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#0057ae;">const</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#0057ae;">double</span><span style=" font-family:'monospace';"> drinkVolume</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#0057ae;">void</span><span style=" font-family:'monospace';"> setHoliday</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#0057ae;">const</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qstring.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QString</span></a><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">&amp;</span><span style=" font-family:'monospace';">holiday</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#0057ae;">void</span><span style=" font-family:'monospace';"> setName</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#0057ae;">const</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qstring.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QString</span></a><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">&amp;</span><span style=" font-family:'monospace';">name</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#0057ae;">void</span><span style=" font-family:'monospace';"> setPersonnel</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#0057ae;">const</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#0057ae;">int</span><span style=" font-family:'monospace';"> personnel</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#0057ae;">private</span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"><br />    </span><a href="http://doc.trolltech.com/latest/qstring.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QString</span></a><span style=" font-family:'monospace';"> holiday</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#0057ae;">double</span><span style=" font-family:'monospace';"> drinkVolume</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';"><br />    </span><a href="http://doc.trolltech.com/latest/qdate.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QDate</span></a><span style=" font-family:'monospace';"> date</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';"><br />    </span><a href="http://doc.trolltech.com/latest/qstring.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QString</span></a><span style=" font-family:'monospace';"> name</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#0057ae;">int</span><span style=" font-family:'monospace';"> personnel</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">};</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; color:#006e28;"><br /></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Отобразить в окне приложения информацию о нескольких организациях так, чтобы пользователю было удобно ее просматривать и изменять, можно в виде двумерной таблицы. На отдельной строке этой таблицы будут располагаться сведения об одной организации – каждый параметр в отдельной ячейке. Передвигаясь по строкам, пользователь сможет увидеть весь список объектов и отредактировать, то что захочет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">Такой способ представления информации реализован в классе </span><span style=" font-weight:600; color:#800080;">QTableView</span><span style=" font-weight:600; color:#000000;">.</span><span style=" color:#000000;"> Информация, которая будет размещена в таблице, должна храниться в соответствующей модели данных. Моделью может служить объект класса </span><span style=" font-weight:600; color:#800080;">QAbstractTableModel</span><span style=" color:#000000;"> или его наследника. </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">В нашем случае можно создать собственный класс-потомок</span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;"> </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QAbstractTableModel</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">, полем которого будет указатель на </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QList&lt;Organization&gt;</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Каждый элемент модели имеет собственный индекс (объект класса </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QModelIndex</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">) и набор атрибутов, называемых ролями. В табличной модели компонентами индекса являются номер строки и номер столбца элемента. Индекс позволяет получить доступ к соответствующему элементу. Роль – это значение из набора констант, которое определяет как элемент будет отображен на экране. Например роль </span><span style=" font-family:'arial,helvetica,sans-serif'; color:#800000;">Qt::DisplayRole</span><span style=" font-family:'arial,helvetica,sans-serif';"> </span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">используется для отображения информации, которую надо представить в виде текста.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Для реализации модели на базе класса </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QAbstractTableModel </span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">необходимо переопределить методы </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">rowCount()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">, </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">columnCount()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">, возвращающие количество строк и столбцов, и метод </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">data()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">, ответственный за определение данных, которые соответствуют в модели определенному индексу и роли. Метод </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">data()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> должен возвращать объект класса</span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;"> </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QVariant</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">. Этот класс имеет большое количество конструкторов, параметрами которых являются объекты и переменные разных типов. Таким образом из различных данных можно создать объекты класса </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QVariant</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">, используя подходящий конструктор. Переопределения этих трех методов достаточно, если необходимо только отображать данные.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Если модель допускает изменение данных, то необходимо переопределить метод </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">flags()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">, в котором устанавливаются значения флага, определяющие набор действий с моделью. Кроме того, если изменение данных должно происходить непосредственно в таблице </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QTableView</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">, то переопределяется метод </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">setData()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">, где описывается изменение соответствующих параметров модели. </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif';"> </span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Переопределение ряда других методов класса </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QAbstractTableModel </span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">позволяет изменить его функциональность в соответствии с поставленной задачей. Например, с помощью метода headerData() можно задать заголовки строк и столбцов таблицы отображающей данные.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Нашу модель мы построим так, чтобы можно было просматривать и изменять данные. Редактирование и добавление объектов в список организаций будем осуществлять с помощью диалоговых окон. Поэтому переопределим методы </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">rowCount()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">, </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">columnCount()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">, </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">data()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">, </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">flags(),</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">headerData() </span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">и определим собственные методы </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">addOrganization() </span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">для добавления элемента в список, </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">delOrganization()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> для удаления элемента из списка, </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">getOrganization()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> для получения значения элемента по его индексу, а также </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">getData()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> для преобразования заданного параметра организации в объект класса </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QVariant</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Заголовочный файл модели будет выглядеть так:</span><br /> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#006e28;">#include &lt;QAbstractTableModel&gt;</span><br /><span style=" color:#006e28;">#include &lt;QVariant&gt;</span><br /><span style=" color:#006e28;">#include &lt;QList&gt;</span><br /><span style=" color:#006e28;">#include &lt;QModelIndex&gt;</span><br /><span style=" color:#006e28;">#include &quot;Organization.h&quot;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#0057ae;">class</span> OrganizationsList <span style=" color:#006e28;">:</span> <span style=" color:#0057ae;">public</span> <a href="http://doc.trolltech.com/latest/qabstracttablemodel.html"><span style=" text-decoration: underline; color:#22aadd;">QAbstractTableModel</span></a> <span style=" color:#006e28;">{</span><br /><span style=" color:#0057ae;">public</span><span style=" color:#006e28;">:</span><br />    OrganizationsList <span style=" color:#006e28;">(</span><a href="http://doc.trolltech.com/latest/qobject.html"><span style=" text-decoration: underline; color:#22aadd;">QObject</span></a> <span style=" color:#006e28;">*</span>parent<span style=" color:#006e28;">);</span><br />    <span style=" color:#0057ae;">int</span> columnCount<span style=" color:#006e28;">(</span><span style=" color:#0057ae;">const</span> <a href="http://doc.trolltech.com/latest/qmodelindex.html"><span style=" text-decoration: underline; color:#22aadd;">QModelIndex</span></a> <span style=" color:#006e28;">&amp;</span> parent <span style=" color:#006e28;">=</span> <a href="http://doc.trolltech.com/latest/qmodelindex.html"><span style=" text-decoration: underline; color:#22aadd;">QModelIndex</span></a><span style=" color:#006e28;">())</span> const<span style=" color:#006e28;">;</span><br />    <span style=" color:#0057ae;">int</span> rowCount<span style=" color:#006e28;">(</span><span style=" color:#0057ae;">const</span> <a href="http://doc.trolltech.com/latest/qmodelindex.html"><span style=" text-decoration: underline; color:#22aadd;">QModelIndex</span></a> <span style=" color:#006e28;">&amp;</span> parent <span style=" color:#006e28;">=</span> <a href="http://doc.trolltech.com/latest/qmodelindex.html"><span style=" text-decoration: underline; color:#22aadd;">QModelIndex</span></a><span style=" color:#006e28;">())</span> const<span style=" color:#006e28;">;</span><br />    <a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" text-decoration: underline; color:#22aadd;">QVariant</span></a> data<span style=" color:#006e28;">(</span><span style=" color:#0057ae;">const</span> <a href="http://doc.trolltech.com/latest/qmodelindex.html"><span style=" text-decoration: underline; color:#22aadd;">QModelIndex</span></a> <span style=" color:#006e28;">&amp;</span> index<span style=" color:#006e28;">,</span> <span style=" color:#0057ae;">int</span> role <span style=" color:#006e28;">=</span> <a href="http://doc.trolltech.com/latest/qt.html"><span style=" text-decoration: underline; color:#22aadd;">Qt</span></a><span style=" color:#006e28;">::</span><span style=" color:#2b74c7;">DisplayRole</span><span style=" color:#006e28;">)</span> const<span style=" color:#006e28;">;</span><br />    <a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" text-decoration: underline; color:#22aadd;">QVariant</span></a> headerData <span style=" color:#006e28;">(</span> <span style=" color:#0057ae;">int</span> section<span style=" color:#006e28;">,</span> <a href="http://doc.trolltech.com/latest/qt.html"><span style=" text-decoration: underline; color:#22aadd;">Qt</span></a><span style=" color:#006e28;">::</span><span style=" color:#2b74c7;">Orientation</span> orientation<span style=" color:#006e28;">,</span> <span style=" color:#0057ae;">int</span> role <span style=" color:#006e28;">=</span> <a href="http://doc.trolltech.com/latest/qt.html"><span style=" text-decoration: underline; color:#22aadd;">Qt</span></a><span style=" color:#006e28;">::</span><span style=" color:#2b74c7;">DisplayRole</span> <span style=" color:#006e28;">)</span> const<span style=" color:#006e28;">;</span><br />    <a href="http://doc.trolltech.com/latest/qt.html"><span style=" text-decoration: underline; color:#22aadd;">Qt</span></a><span style=" color:#006e28;">::</span><span style=" color:#2b74c7;">ItemFlags</span> flags <span style=" color:#006e28;">(</span><span style=" color:#0057ae;">const</span> <a href="http://doc.trolltech.com/latest/qmodelindex.html"><span style=" text-decoration: underline; color:#22aadd;">QModelIndex</span></a> <span style=" color:#006e28;">&amp;</span> index<span style=" color:#006e28;">)</span> const<span style=" color:#006e28;">;</span><br />    <span style=" color:#0057ae;">void</span> addOrganization<span style=" color:#006e28;">(</span>Organization<span style=" color:#006e28;">&amp;</span> newOrganization<span style=" color:#006e28;">);</span><br />    <span style=" color:#0057ae;">void</span> delOrganization<span style=" color:#006e28;">(</span><span style=" color:#0057ae;">const</span> <a href="http://doc.trolltech.com/latest/qmodelindex.html"><span style=" text-decoration: underline; color:#22aadd;">QModelIndex</span></a> <span style=" color:#006e28;">&amp;</span> index<span style=" color:#006e28;">);</span><br />    Organization<span style=" color:#006e28;">&amp;</span> getOrganization<span style=" color:#006e28;">(</span><span style=" color:#0057ae;">const</span> <a href="http://doc.trolltech.com/latest/qmodelindex.html"><span style=" text-decoration: underline; color:#22aadd;">QModelIndex</span></a> <span style=" color:#006e28;">&amp;</span> index<span style=" color:#006e28;">)</span> const<span style=" color:#006e28;">;</span><br /><span style=" color:#0057ae;">private</span><span style=" color:#006e28;">:</span><br />    <a href="http://doc.trolltech.com/latest/qlist.html"><span style=" text-decoration: underline; color:#22aadd;">QList</span></a><span style=" color:#006e28;">&lt;</span>Organization<span style=" color:#006e28;">&gt;</span> <span style=" color:#006e28;">*</span>listOfOrganizations<span style=" color:#006e28;">;</span><br />    <a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" text-decoration: underline; color:#22aadd;">QVariant</span></a> getData<span style=" color:#006e28;">(</span><span style=" color:#0057ae;">int</span> num<span style=" color:#006e28;">,</span> <span style=" color:#0057ae;">int</span> position<span style=" color:#006e28;">)</span> const<span style=" color:#006e28;">;</span><br /><span style=" color:#006e28;">};</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; color:#006e28;"><br /></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Рассмотрим методы подробно. В конструкторе просто создадим пустой список организаций:</span><br /> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace';">OrganizationsList</span><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">OrganizationsList</span><span style=" font-family:'monospace'; color:#006e28;">(</span><a href="http://doc.trolltech.com/latest/qobject.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QObject</span></a><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">*</span><span style=" font-family:'monospace';">parent</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qabstracttablemodel.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QAbstractTableModel</span></a><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">parent</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />    listOfOrganizations </span><span style=" font-family:'monospace'; color:#006e28;">=</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">new</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qlist.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QList</span></a><span style=" font-family:'monospace'; color:#006e28;">&lt;</span><span style=" font-family:'monospace';">Organization </span><span style=" font-family:'monospace'; color:#006e28;">&gt;</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; color:#006e28;"><br /></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Для объекта класса </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">Organization</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> будем отображать в таблице пять параметров (название, количество сотрудников, праздник, дата корпоративного собрания по его поводу и количество выпитых напитков на одного сотрудника), поэтому количество столбцов в таблице должно быть равно пяти:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'arial,helvetica,sans-serif'; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; color:#0057ae;">int</span><span style=" font-family:'monospace';"> OrganizationsList</span><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">columnCount</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#0057ae;">const</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qmodelindex.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QModelIndex</span></a><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">&amp;</span><span style=" font-family:'monospace';"> parent</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#0057ae;">const</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#b08000;">5</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Количество строк соответствует количеству организаций в списке, т. е. его размеру:</span><br /> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; color:#0057ae;">int</span><span style=" font-family:'monospace';"> OrganizationsList</span><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">rowCount</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#0057ae;">const</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qmodelindex.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QModelIndex</span></a><span style=" font-family:'monospace'; color:#006e28;">&amp;</span><span style=" font-family:'monospace';"> parent</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#0057ae;">const</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> listOfOrganizations</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">size</span><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Аргументами метода </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">data()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> являются индекс элемента модели и его роль. Если роль элемента предназначена для отображения данных, то метод возвращает его представление в объекте класса QVariant. Для создания такого объекта вызывается метод нашего класса</span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;"> getData()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">, в котором по координатам ячейки определяется параметр организации и возвращается соответствующий объект класса </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QVariant</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> (номер строки определяет организацию в списке, номер столбца – параметр). Если роль элемента другая или происходит обращение к несуществующим данным (последнее проверяется методом</span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;"> isValid()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> класса </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QModelIndex</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">), то возвращается пустой объект </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QVariant</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#0000ff;"><br /></span></a><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVariant</span></a><span style=" font-family:'monospace';"> OrganizationsList</span><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">data</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#0057ae;">const</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qmodelindex.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QModelIndex</span></a><span style=" font-family:'monospace'; color:#006e28;">&amp;</span><span style=" font-family:'monospace';"> index</span><span style=" font-family:'monospace'; color:#006e28;">,</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#0057ae;">int</span><span style=" font-family:'monospace';"> role</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#0057ae;">const</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">if</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">index.</span><span style=" font-family:'monospace'; color:#2b74c7;">isValid</span><span style=" font-family:'monospace'; color:#006e28;">()</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">&amp;&amp;</span><span style=" font-family:'monospace';"> role </span><span style=" font-family:'monospace'; color:#006e28;">==</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qt.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">Qt</span></a><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">DisplayRole</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';"><br />        </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> getData</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">index.</span><span style=" font-family:'monospace'; color:#2b74c7;">row</span><span style=" font-family:'monospace'; color:#006e28;">(),</span><span style=" font-family:'monospace';"> index.</span><span style=" font-family:'monospace'; color:#2b74c7;">column</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVariant</span></a><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">}</span><span style=" font-family:'monospace';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVariant</span></a><span style=" font-family:'monospace';"> OrganizationsList</span><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">getData</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#0057ae;">int</span><span style=" font-family:'monospace';"> num</span><span style=" font-family:'monospace'; color:#006e28;">,</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#0057ae;">int</span><span style=" font-family:'monospace';"> position</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#0057ae;">const</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">switch</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">position</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />        </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">case</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#b08000;">0</span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"><br />            </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVariant</span></a><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">listOfOrganizations</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">at</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">num</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';">.</span><span style=" font-family:'monospace'; color:#2b74c7;">getName</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />        </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">case</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#b08000;">1</span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"><br />            </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVariant</span></a><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">listOfOrganizations</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">at</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">num</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';">.</span><span style=" font-family:'monospace'; color:#2b74c7;">getPersonnel</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />        </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">case</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#b08000;">2</span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"><br />            </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVariant</span></a><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">listOfOrganizations</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">at</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">num</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';">.</span><span style=" font-family:'monospace'; color:#2b74c7;">getHoliday</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />        </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">case</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#b08000;">3</span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"><br />            </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVariant</span></a><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">listOfOrganizations</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">at</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">num</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';">.</span><span style=" font-family:'monospace'; color:#2b74c7;">getDate</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />        </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">case</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#b08000;">4</span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"><br />            </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVariant</span></a><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">listOfOrganizations</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">at</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">num</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';">.</span><span style=" font-family:'monospace'; color:#2b74c7;">getDrunkPerPerson</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />        </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">default</span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"><br />            </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVariant</span></a><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#006e28;">}</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; color:#006e28;"><br /></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Переопределим также метод</span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;"> headerData()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> для заголовков в таблице. Первый аргумент определяет номер заголовочной ячейки, второй – расположение: по вертикали размещаются заголовки строк, в них должен быть номер организации по порядку; по горизонтали – названия параметров организации (Name – название, Personnel – количество сотрудников, Holiday – праздник, Date – дата проведения, Drunk by one – сколько выпито на одного человека), третий – роль элемента, в нашем случае это роль для отображения данных в виде текста:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'arial,helvetica,sans-serif'; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVariant</span></a><span style=" font-family:'monospace';"> OrganizationsList</span><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">headerData</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#0057ae;">int</span><span style=" font-family:'monospace';"> section</span><span style=" font-family:'monospace'; color:#006e28;">,</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qt.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">Qt</span></a><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">Orientation</span><span style=" font-family:'monospace';"> orientation</span><span style=" font-family:'monospace'; color:#006e28;">,</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#0057ae;">int</span><span style=" font-family:'monospace';"> role</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#0057ae;">const</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">if</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">role </span><span style=" font-family:'monospace'; color:#006e28;">!=</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qt.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">Qt</span></a><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">DisplayRole</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';"><br />        </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVariant</span></a><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">if</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">orientation </span><span style=" font-family:'monospace'; color:#006e28;">==</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qt.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">Qt</span></a><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">Vertical</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';"><br />        </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVariant</span></a><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">section </span><span style=" font-family:'monospace'; color:#006e28;">+</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#b08000;">1</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">else</span><span style=" font-family:'monospace';"><br />        </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">switch</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">section</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />            </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">case</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#b08000;">0</span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"><br />                </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVariant</span></a><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#bf0303;">&quot;Name&quot;</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />            </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">case</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#b08000;">1</span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"><br />                </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVariant</span></a><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#bf0303;">&quot;Personnel&quot;</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />            </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">case</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#b08000;">2</span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"><br />                </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVariant</span></a><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#bf0303;">&quot;Holiday&quot;</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />            </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">case</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#b08000;">3</span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"><br />                </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVariant</span></a><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#bf0303;">&quot;Date&quot;</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />            </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">case</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#b08000;">4</span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"><br />                </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVariant</span></a><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#bf0303;">&quot;Drunk by one&quot;</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />            </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">default</span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"><br />                </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qvariant.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVariant</span></a><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br />        </span><span style=" font-family:'monospace'; color:#006e28;">}</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; color:#006e28;"><br /></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">В методе </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">flags()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> устанавливаем флаги, позволяющие выделять и изменять элементы модели:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://doc.trolltech.com/latest/qt.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">Qt</span></a><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">ItemFlags</span><span style=" font-family:'monospace';"> OrganizationsList</span><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">flags</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#0057ae;">const</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qmodelindex.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QModelIndex</span></a><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">&amp;</span><span style=" font-family:'monospace';"> index</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#0057ae;">const</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qt.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">Qt</span></a><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">ItemIsSelectable</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">|</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qt.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">Qt</span></a><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">ItemIsEnabled</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">}</span><span style=" font-family:'monospace';"><br /> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Метод </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">getOrganization()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> возвращает заданный элемент списка организации, который определяется номером строки получаемым из индекса элемента нашей модели. Этот метод потребуется для редактирования соответствующей организации в главном окне приложения:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace';">Organization</span><span style=" font-family:'monospace'; color:#006e28;">&amp;</span><span style=" font-family:'monospace';"> OrganizationsList</span><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">getOrganization</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#0057ae;">const</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qmodelindex.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QModelIndex</span></a><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">&amp;</span><span style=" font-family:'monospace';"> index</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#0057ae;">const</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">(*</span><span style=" font-family:'monospace';">listOfOrganizations</span><span style=" font-family:'monospace'; color:#006e28;">)[</span><span style=" font-family:'monospace';">index.</span><span style=" font-family:'monospace'; color:#2b74c7;">row</span><span style=" font-family:'monospace'; color:#006e28;">()];</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Метод </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">addOrganization() </span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">необходим для добавления организации в список и соответственно в модель. Для этого необходимо использовать метод базового класса </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">beginInsertRows()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> для добавления строк, в которых будут размещены новые данные, номера строк задаются в аргументах при вызове метода, в нашем случае это одна строка в конце таблицы. Завершается добавление строк методом </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">endInsertRows()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">. Между этими функциями вызывается метод </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">append()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> класса </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QList&lt;Organization&gt;</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> для помещения заданного объекта в список организаций:</span><span style=" font-family:'monospace';"><br /> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; color:#0057ae;">void</span><span style=" font-family:'monospace';"> OrganizationsList</span><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">addOrganization</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">Organization</span><span style=" font-family:'monospace'; color:#006e28;">&amp;</span><span style=" font-family:'monospace';"> newOrganization</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />    beginInsertRows</span><span style=" font-family:'monospace'; color:#006e28;">(</span><a href="http://doc.trolltech.com/latest/qmodelindex.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QModelIndex</span></a><span style=" font-family:'monospace'; color:#006e28;">(),</span><span style=" font-family:'monospace';"> listOfOrganizations</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">size</span><span style=" font-family:'monospace'; color:#006e28;">(),</span><span style=" font-family:'monospace';"> listOfOrganizations</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">size</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />    listOfOrganizations</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">append</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">newOrganization</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    endInsertRows</span><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; color:#006e28;"><br /></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Похожим образом организован метод </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">delOrganization()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">, удаляющий элемент из модели и списка. Исключаемая организация определяется номером строки, в которой она хранится и отображается, этот номер мы получаем из индекса соответствующего элемента модели:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'arial,helvetica,sans-serif'; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; color:#0057ae;">void</span><span style=" font-family:'monospace';"> OrganizationsList</span><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">delOrganization</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#0057ae;">const</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qmodelindex.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QModelIndex</span></a><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">&amp;</span><span style=" font-family:'monospace';"> index</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />    beginRemoveRows</span><span style=" font-family:'monospace'; color:#006e28;">(</span><a href="http://doc.trolltech.com/latest/qmodelindex.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QModelIndex</span></a><span style=" font-family:'monospace'; color:#006e28;">(),</span><span style=" font-family:'monospace';"> index.</span><span style=" font-family:'monospace'; color:#2b74c7;">row</span><span style=" font-family:'monospace'; color:#006e28;">(),</span><span style=" font-family:'monospace';"> index.</span><span style=" font-family:'monospace'; color:#2b74c7;">row</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />    listOfOrganizations</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">removeAt</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">index.</span><span style=" font-family:'monospace'; color:#2b74c7;">row</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />    endRemoveRows</span><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; color:#006e28;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; color:#006e28;"><br /></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">Главное окно приложения</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">В главном окне приложения мы разместим таблицу</span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#008000;"> view</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#2f4f4f;">,</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> отображающую список организаций (в начале работы программы он будет пустым) и три кнопки класса </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QPushButton</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">, чтобы пользователь мог добавить организацию, редактировать или удалять выбранный элемент. Кроме виджетов, необходимо создать модель данных dataList класса OrganizationsList и слоты для обработки сигналов нажатия кнопок:</span><br /> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; color:#006e28;">#include &lt;QMainWindow&gt;</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">#include &lt;QPushButton&gt;</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">#include &lt;QTableView&gt;</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">#include &quot;OrganizationsList.h&quot;</span><span style=" font-family:'monospace';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; color:#0057ae;">class</span><span style=" font-family:'monospace';"> MainWindow </span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#0057ae;">public</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qmainwindow.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QMainWindow</span></a><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#0057ae;">Q_OBJECT</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#0057ae;">public</span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"><br />    MainWindow</span><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#0057ae;">private</span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"><br />    </span><a href="http://doc.trolltech.com/latest/qpushbutton.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QPushButton</span></a><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">*</span><span style=" font-family:'monospace';">add</span><span style=" font-family:'monospace'; color:#006e28;">,</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">*</span><span style=" font-family:'monospace';">edit</span><span style=" font-family:'monospace'; color:#006e28;">,</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">*</span><span style=" font-family:'monospace';">del</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';"><br />    </span><a href="http://doc.trolltech.com/latest/qtableview.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QTableView</span></a><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">*</span><span style=" font-family:'monospace';">view</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';"><br />    OrganizationsList </span><span style=" font-family:'monospace'; color:#006e28;">*</span><span style=" font-family:'monospace';">dataList</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';">    <br /></span><span style=" font-family:'monospace'; color:#0057ae;">private</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#0057ae;">slots</span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#0057ae;">void</span><span style=" font-family:'monospace';"> addButtonClicked</span><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#0057ae;">void</span><span style=" font-family:'monospace';"> editButtonClicked</span><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#0057ae;">void</span><span style=" font-family:'monospace';"> delButtonClicked</span><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">};</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; color:#006e28;"><br /></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">В конструкторе выделим память для модели данных и таблицы, которая будет их отображать, зададим соответствие между моделью и отображением вызовом метода </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">setModel()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> класса </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">QTableView</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">, создадим кнопки и разместим виджеты на главном окне, а также соединим сигналы кнопок с соответствующими слотами:</span><br /> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace';">MainWindow</span><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">MainWindow</span><span style=" font-family:'monospace'; color:#006e28;">()</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">:</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qmainwindow.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QMainWindow</span></a><span style=" font-family:'monospace'; color:#006e28;">()</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />    dataList </span><span style=" font-family:'monospace'; color:#006e28;">=</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">new</span><span style=" font-family:'monospace';"> OrganizationsList</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">this</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    view </span><span style=" font-family:'monospace'; color:#006e28;">=</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">new</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qtableview.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QTableView</span></a><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">this</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    view</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">setModel</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">dataList</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    add </span><span style=" font-family:'monospace'; color:#006e28;">=</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">new</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qpushbutton.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QPushButton</span></a><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#bf0303;">&quot;Add new Organization&quot;</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    edit </span><span style=" font-family:'monospace'; color:#006e28;">=</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">new</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qpushbutton.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QPushButton</span></a><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#bf0303;">&quot;Edit selected Organization&quot;</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    del </span><span style=" font-family:'monospace'; color:#006e28;">=</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">new</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qpushbutton.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QPushButton</span></a><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#bf0303;">&quot;Delete selected Organization&quot;</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';">    <br />    </span><a href="http://doc.trolltech.com/latest/qwidget.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QWidget</span></a><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">*</span><span style=" font-family:'monospace';">box </span><span style=" font-family:'monospace'; color:#006e28;">=</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">new</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qwidget.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QWidget</span></a><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br />    </span><a href="http://doc.trolltech.com/latest/qvboxlayout.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVBoxLayout</span></a><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">*</span><span style=" font-family:'monospace';">layout </span><span style=" font-family:'monospace'; color:#006e28;">=</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">new</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qvboxlayout.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QVBoxLayout</span></a><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br />    layout</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">addWidget</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">view</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    </span><a href="http://doc.trolltech.com/latest/qhboxlayout.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QHBoxLayout</span></a><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">*</span><span style=" font-family:'monospace';">buttonLayout </span><span style=" font-family:'monospace'; color:#006e28;">=</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">new</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qhboxlayout.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QHBoxLayout</span></a><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br />    layout</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">addLayout</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">buttonLayout</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    buttonLayout</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">addWidget</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">add</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    buttonLayout</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">addWidget</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">edit</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    buttonLayout</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">addWidget</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">del</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    box</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">setLayout</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">layout</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    setCentralWidget</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">box</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    setWindowTitle</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#bf0303;">&quot;List of organizations&quot;</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#0057ae;">connect</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">add</span><span style=" font-family:'monospace'; color:#006e28;">,</span><span style=" font-family:'monospace';"> SIGNAL</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">clicked</span><span style=" font-family:'monospace'; color:#006e28;">()),</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">this</span><span style=" font-family:'monospace'; color:#006e28;">,</span><span style=" font-family:'monospace';"> SLOT</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">addButtonClicked</span><span style=" font-family:'monospace'; color:#006e28;">()));</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#0057ae;">connect</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">edit</span><span style=" font-family:'monospace'; color:#006e28;">,</span><span style=" font-family:'monospace';"> SIGNAL</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">clicked</span><span style=" font-family:'monospace'; color:#006e28;">()),</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">this</span><span style=" font-family:'monospace'; color:#006e28;">,</span><span style=" font-family:'monospace';"> SLOT</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">editButtonClicked</span><span style=" font-family:'monospace'; color:#006e28;">()));</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#0057ae;">connect</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">del</span><span style=" font-family:'monospace'; color:#006e28;">,</span><span style=" font-family:'monospace';"> SIGNAL</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">clicked</span><span style=" font-family:'monospace'; color:#006e28;">()),</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">this</span><span style=" font-family:'monospace'; color:#006e28;">,</span><span style=" font-family:'monospace';"> SLOT</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">delButtonClicked</span><span style=" font-family:'monospace'; color:#006e28;">()));</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Для добавления организации создадим диалоговое окно dialog класса</span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;"> OrganizationEditDialog</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> (этот класс и работа с ним были подробно описаны в </span><a href="http://qt.e-werest.org/blog/tutorial/2907.html"><span style=" font-family:'arial,helvetica,sans-serif'; text-decoration: underline; color:#0000ff;">предыдущих статьях</span></a><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">):</span><br /> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; color:#0057ae;">void</span><span style=" font-family:'monospace';"> MainWindow</span><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">addButtonClicked</span><span style=" font-family:'monospace'; color:#006e28;">()</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />    Organization organization</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';"><br />    OrganizationEditDialog </span><span style=" font-family:'monospace'; color:#006e28;">*</span><span style=" font-family:'monospace';">dialog </span><span style=" font-family:'monospace'; color:#006e28;">=</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">new</span><span style=" font-family:'monospace';"> OrganizationEditDialog</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">this</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    dialog</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">setOrganization</span><span style=" font-family:'monospace'; color:#006e28;">(&amp;</span><span style=" font-family:'monospace';">organization</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">if</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">dialog</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">exec</span><span style=" font-family:'monospace'; color:#006e28;">()</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">==</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qdialog.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QDialog</span></a><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">Accepted</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />        organization.</span><span style=" font-family:'monospace'; color:#2b74c7;">setDate</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">dialog</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">getDate</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />        organization.</span><span style=" font-family:'monospace'; color:#2b74c7;">setDrinkVolume</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">dialog</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">getDrinkVolume</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />        organization.</span><span style=" font-family:'monospace'; color:#2b74c7;">setHoliday</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">dialog</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">getHoliday</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />        organization.</span><span style=" font-family:'monospace'; color:#2b74c7;">setName</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">dialog</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">getName</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />        organization.</span><span style=" font-family:'monospace'; color:#2b74c7;">setPersonnel</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">dialog</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">getPersonnel</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />        dataList</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">addOrganization</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">organization</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#006e28;">}</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">delete</span><span style=" font-family:'monospace';"> dialog</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; color:#006e28;"><br /></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">При редактировании данных необходимо убедиться, что они существуют, это можно сделать, проверив индекс текущего выбранного элемента таблицы. Для редактирования также как в предыдущем методе будет вызвано диалоговое окно:</span><br /> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; color:#0057ae;">void</span><span style=" font-family:'monospace';"> MainWindow</span><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">editButtonClicked</span><span style=" font-family:'monospace'; color:#006e28;">()</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />    </span><a href="http://doc.trolltech.com/latest/qmodelindex.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QModelIndex</span></a><span style=" font-family:'monospace';"> index </span><span style=" font-family:'monospace'; color:#006e28;">=</span><span style=" font-family:'monospace';"> view</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">selectionModel</span><span style=" font-family:'monospace'; color:#006e28;">()-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">currentIndex</span><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">if</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">index.</span><span style=" font-family:'monospace'; color:#2b74c7;">isValid</span><span style=" font-family:'monospace'; color:#006e28;">())</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />        Organization</span><span style=" font-family:'monospace'; color:#006e28;">&amp;</span><span style=" font-family:'monospace';"> organization </span><span style=" font-family:'monospace'; color:#006e28;">=</span><span style=" font-family:'monospace';"> dataList</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">getOrganization</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">index</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />        OrganizationEditDialog </span><span style=" font-family:'monospace'; color:#006e28;">*</span><span style=" font-family:'monospace';">dialog </span><span style=" font-family:'monospace'; color:#006e28;">=</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">new</span><span style=" font-family:'monospace';"> OrganizationEditDialog</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">this</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />        dialog</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">setOrganization</span><span style=" font-family:'monospace'; color:#006e28;">(&amp;</span><span style=" font-family:'monospace';">organization</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />        </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">if</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">dialog</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">exec</span><span style=" font-family:'monospace'; color:#006e28;">()</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">==</span><span style=" font-family:'monospace';"> </span><a href="http://doc.trolltech.com/latest/qdialog.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QDialog</span></a><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">Accepted</span><span style=" font-family:'monospace'; color:#006e28;">)</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />            organization.</span><span style=" font-family:'monospace'; color:#2b74c7;">setDate</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">dialog</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">getDate</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />            organization.</span><span style=" font-family:'monospace'; color:#2b74c7;">setDrinkVolume</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">dialog</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">getDrinkVolume</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />            organization.</span><span style=" font-family:'monospace'; color:#2b74c7;">setHoliday</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">dialog</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">getHoliday</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />            organization.</span><span style=" font-family:'monospace'; color:#2b74c7;">setName</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">dialog</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">getName</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />            organization.</span><span style=" font-family:'monospace'; color:#2b74c7;">setPersonnel</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">dialog</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">getPersonnel</span><span style=" font-family:'monospace'; color:#006e28;">());</span><span style=" font-family:'monospace';"><br />        </span><span style=" font-family:'monospace'; color:#006e28;">}</span><span style=" font-family:'monospace';"><br />        </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">delete</span><span style=" font-family:'monospace';"> dialog</span><span style=" font-family:'monospace'; color:#006e28;">;</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; color:#006e28;">}</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; color:#006e28;"><br /></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Для удаления элемента необходимо вызвать метод </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#000000;">delOrganization()</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;"> разработанного нами класса модели </span><span style=" font-family:'arial,helvetica,sans-serif'; font-weight:600; color:#800080;">OrganizationsList</span><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">, предварительно проверив, что в таблице выбран элемент:</span><br /> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; color:#0057ae;">void</span><span style=" font-family:'monospace';"> MainWindow</span><span style=" font-family:'monospace'; color:#006e28;">::</span><span style=" font-family:'monospace'; color:#2b74c7;">delButtonClicked</span><span style=" font-family:'monospace'; color:#006e28;">()</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"><br />    </span><a href="http://doc.trolltech.com/latest/qmodelindex.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QModelIndex</span></a><span style=" font-family:'monospace';"> index </span><span style=" font-family:'monospace'; color:#006e28;">=</span><span style=" font-family:'monospace';"> view</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">selectionModel</span><span style=" font-family:'monospace'; color:#006e28;">()-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">currentIndex</span><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">if</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">index.</span><span style=" font-family:'monospace'; color:#2b74c7;">isValid</span><span style=" font-family:'monospace'; color:#006e28;">())</span><span style=" font-family:'monospace';"><br />        dataList</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">delOrganization</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">index</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; color:#006e28;"><br /></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">Главная функция приложения:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'arial,helvetica,sans-serif'; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; color:#006e28;">#include &lt;QtGui/QApplication&gt;</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">#include &quot;MainWindow.h&quot;</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#0057ae;">int</span><span style=" font-family:'monospace';"> main</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace'; color:#0057ae;">int</span><span style=" font-family:'monospace';"> argc</span><span style=" font-family:'monospace'; color:#006e28;">,</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#0057ae;">char</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">*</span><span style=" font-family:'monospace';">argv</span><span style=" font-family:'monospace'; color:#006e28;">[])</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; color:#006e28;">{</span><span style=" font-family:'monospace';"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace';">    </span><a href="http://doc.trolltech.com/latest/qapplication.html"><span style=" font-family:'monospace'; text-decoration: underline; color:#22aadd;">QApplication</span></a><span style=" font-family:'monospace';"> app</span><span style=" font-family:'monospace'; color:#006e28;">(</span><span style=" font-family:'monospace';">argc</span><span style=" font-family:'monospace'; color:#006e28;">,</span><span style=" font-family:'monospace';"> argv</span><span style=" font-family:'monospace'; color:#006e28;">);</span><span style=" font-family:'monospace';"><br />    MainWindow </span><span style=" font-family:'monospace'; color:#006e28;">*</span><span style=" font-family:'monospace';">window </span><span style=" font-family:'monospace'; color:#006e28;">=</span><span style=" font-family:'monospace';"> </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">new</span><span style=" font-family:'monospace';"> MainWindow</span><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br />    window</span><span style=" font-family:'monospace'; color:#006e28;">-&gt;</span><span style=" font-family:'monospace'; color:#2b74c7;">show</span><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br />    </span><span style=" font-family:'monospace'; font-weight:600; color:#000000;">return</span><span style=" font-family:'monospace';"> app.</span><span style=" font-family:'monospace'; color:#2b74c7;">exec</span><span style=" font-family:'monospace'; color:#006e28;">();</span><span style=" font-family:'monospace';"><br /></span><span style=" font-family:'monospace'; color:#006e28;">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace'; color:#006e28;"><br /></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; color:#000000;">В заключение приведем картинку с внешним видом приложения:</span></p>
<p align="center" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image29833.png" /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">И во время редактирования данных:</span></p>
<p align="center" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,helvetica,sans-serif'; font-size:7.8pt; color:#000000;"><br /></span><img src="image30306.png" /><span style=" font-family:'arial,helvetica,sans-serif'; font-size:7.8pt; color:#000000;"><br /></span><img src="image18350.png" /></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:7.8pt;"><br /></p></body></html>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">Мониторинг — это один из столпов обеспечения высокой </span><span style=" font-size:10pt; font-style:italic;">доступности</span><span style=" font-size:10pt;"> ИТ-систем. <br />Как правило, системные администраторы при установке системы мониторинга в первую очередь настраивают ее на проверку параметров серверов и обнаружение недоступности сервисов, запущенных на этих серверах. Безусловно это приоритетная задача, но не стоит забывать и о другом оборудовании: ИБП, системах кондиционирования, сетевом оборудовании.<br /><br />В этом топике я покажу как решить за полчаса задачу мониторинга активного сетевого оборудования (т.е. свитчей, роутеров и т.п.) в системе Zabbix с помощью пары полезных инструментов. В результате вы сможете получить полную картину происходящего в сети.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1668846882.png" /><span style=" font-size:10pt;"><br /></span><a name="habracut"></a><span style=" font-size:10pt;"><br /></span><span style=" font-size:10pt;"><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">Включаем мониторинг</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;"><br />Думаю, я не ошибусь, если скажу, что большинству системных администраторов приходится работать с унаследованным «зоопарком» оборудования различных моделей и вендоров. К счастью, большинство моделей поддерживает открытый протокол </span><a href="http://ru.wikipedia.org/wiki/SNMP"><span style=" font-size:10pt; text-decoration: underline; color:#0057ae;">SNMP</span></a><span style=" font-size:10pt;">. Именно по нему мы и будем получать информацию о состоянии сетевых интерфейсов. <br /><br />Предположим, что Zabbix у вас уже установлен. Чтобы воспользоваться SNMP нужно:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:10pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">включить поддержку SNMP на сетевом устройстве (команды зависят от производителя)</li>
<li style=" font-size:10pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">добавить соответствующие item в Zabbix — по одному на каждый параметр; для этого нужно указать используемую версию SNMP, корректный идентификатор параметра <span style=" font-style:italic;">SNMP OID</span> и <span style=" font-style:italic;">SNMP community</span> (что-то типа имени пользователя)</li>
<li style=" font-size:10pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">добавить триггеры для отслеживания нежелательных значений item</li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;"><br />С учетом того, что у каждого сетевого порта может быть несколько отслеживаемых параметров, у типичного свитча — 24, а то и 48 портов, а свитчей в сети могут быть десятки, ручная конфигурация чересчур трудоемка.<br /><br />Для облегчения задачи необходимо использовать шаблоны (templates). Шаблон содержит в себе все необходимые item'ы, триггеры и графики — остается только завести хост и подключить к нему шаблон.<br />Для Zabbix уже есть много готовых шаблонов, которые можно или нагуглить или посмотреть в </span><a href="http://www.zabbix.com/wiki/templates/start"><span style=" font-size:10pt; text-decoration: underline; color:#0057ae;">мануале</span></a><span style=" font-size:10pt;">. <br />Если вы не нашли нужный шаблон, не расстраивайтесь: как правило, производители используют стандартные OID'ы из RFC1213 и RFC2233:<br /></span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">sysName.0</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">имя узла</span></p></td>
<td></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">.1.3.6.1.2.1.1.3.0</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">uptime</span></p></td>
<td></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">.1.3.6.1.2.1.2.2.1.8.X</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">статус порта: 1(up) / 2(down)</span></p></td>
<td rowspan="11">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">X — номер порта; <br />у Cisco номер порта пятизначный: <br />100XX для 100 Мбитных портов,<br />101XX для 1 Гбит/c</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">.1.3.6.1.2.1.2.2.1.16.X</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">отправлено байт</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">.1.3.6.1.2.1.2.2.1.10.X</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">принято байт</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">.1.3.6.1.2.1.31.1.1.1.5.X</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">отправлено broadcast пакетов</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">.1.3.6.1.2.1.31.1.1.1.3.X</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">принято broadcast пакетов</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">.1.3.6.1.2.1.31.1.1.1.4.X</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">отправлено multicast пакетов</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">.1.3.6.1.2.1.31.1.1.1.2.X</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">принято multicast пакетов</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">.1.3.6.1.2.1.2.2.1.17.X</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">отправлено unicast пакетов</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">.1.3.6.1.2.1.2.2.1.11.X</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">принято unicast пакетов</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">.1.3.6.1.2.1.2.2.1.20.X</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">ошибок при отправке</span></p></td></tr>
<tr>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">.1.3.6.1.2.1.2.2.1.14.X</span></p></td>
<td>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">ошибок при получении</span></p></td></tr></table>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;">Помимо этого можно считать имя интерфейса, MTU, скорость и другие параметры. Полный список </span><a href="http://tools.cisco.com/Support/SNMP/do/BrowseOID.do?local=en&amp;translate=Translate&amp;objectInput=1.3.6.1.2.1.2.2.1#oidContent"><span style=" font-size:10pt; text-decoration: underline; color:#0057ae;">смотрите на сайте Cisco</span></a><span style=" font-size:10pt;">.<br /><br />Cisco Catalyst, как правило, поддерживают дополнительно:<br />.1.3.6.1.4.1.9.9.109.1.1.1.1.5.1 — процент загрузки CPU<br />.1.3.6.1.4.1.9.9.48.1.1.1.5.1 — занятая память (в байтах)<br />.1.3.6.1.4.1.9.5.1.2.13.0 — статус температуры (1 — нормальная, 2 — повышенная, 3 — критическая)<br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">Генератор шаблонов</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;"><br />Заметив, то что идентификаторы стандартизованы, я написал </span><a href="http://ross.vc/cisco_tpl/"><span style=" font-size:10pt; text-decoration: underline; color:#0057ae;">простенький скрипт</span></a><span style=" font-size:10pt;"> на PHP, который позволяет сгенерировать XML-шаблон для Zabbix с нужными OID для всех портов. Мы протестировали его на оборудовании Cisco (500G, 2960. 3550 и 3750), 3Com (2426, 2924, 2948), паре D-Link и Zyxel 4012. (Кто хочет, может </span><a href="http://ross.vc/cisco_tpl/cisco_tpl.zip"><span style=" font-size:10pt; text-decoration: underline; color:#0057ae;">скачать исходники</span></a><span style=" font-size:10pt;">).<br />Генератор создает шаблоны, которые умеют:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-size:10pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">отслеживать параметры интерфейсов (см. таблицу выше) и выводить их на графике;</li>
<li style=" font-size:10pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">устанавливать триггер на падение порта;</li>
<li style=" font-size:10pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">устанавливать триггер на превышение скорости прироста ошибок на порте;</li>
<li style=" font-size:10pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">отслеживать загрузку процессора, памяти и температуры для Cisco.</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;"><br />После того, как вы сгенерировали и сохранили шаблон для устройства, сымпортируйте его: перейдите в </span><span style=" font-size:10pt; font-style:italic;">Configuration </span><span style=" font-size:10pt;">→ </span><span style=" font-size:10pt; font-style:italic;">Templates </span><span style=" font-size:10pt;">и нажмите справа вверху кнопку </span><span style=" font-size:10pt; font-style:italic;">Import</span><span style=" font-size:10pt;">. Создайте новый </span><span style=" font-size:10pt; font-style:italic;">Host</span><span style=" font-size:10pt;"> или отредактируйте существующий — привяжите к нему ваш шаблон.<br />Если вы хотите изменить какие-либо параметры (например, SNMP community), то это можно сделать прямо в Zabbix: зайдите в шаблон в </span><span style=" font-size:10pt; font-style:italic;">Configuration </span><span style=" font-size:10pt;">→ </span><span style=" font-size:10pt; font-style:italic;">Templates </span><span style=" font-size:10pt;">, в </span><span style=" font-size:10pt; font-style:italic;">Items </span><span style=" font-size:10pt;">выделите нужные элементы галочками и внизу выберите из выпадающего списка </span><span style=" font-size:10pt; font-style:italic;">Mass update</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt; font-style:italic;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image64545348.png" /><span style=" font-size:10pt;"><br /><br /></span><img src="image1480607831.png" /><span style=" font-size:10pt;"><br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">Отладка</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;"><br />Если прошло несколько минут после добавления к устройству шаблона, а данные от SNMP так и не появились, необходимо проверить, может ли сервер Zabbix считать данные с устройства. Делается это утилитой snmpget:<br /></span><span style=" font-family:'Courier New,courier'; font-size:10pt;">snmpget -v версия_протокола -c комьюнити адрес_устройства OID</span><span style=" font-size:10pt;"><br /><br />Например, получим число отправленных байт на первом гигабитном порту для Cisco:<br /></span><span style=" font-family:'Courier New,courier'; font-size:10pt;">snmpget -v 2c -c qwerty 192.168.1.1 .1.3.6.1.2.1.2.2.1.16.10101</span><span style=" font-size:10pt;"><br /></span><span style=" font-family:'Courier New,courier'; font-size:10pt;">IF-MIB::ifOutOctets.10101 = Counter32: 2044250092</span><span style=" font-size:10pt;"><br /><br />Для не-Cisco железки:<br /></span><span style=" font-family:'Courier New,courier'; font-size:10pt;">snmpget -v 2c -c qwerty 192.168.1.2 .1.3.6.1.2.1.2.2.1.16.1</span><span style=" font-size:10pt;"><br /></span><span style=" font-family:'Courier New,courier'; font-size:10pt;">IF-MIB::ifOutOctets.1 = Counter32: 1691279168</span><span style=" font-size:10pt;"><br /><br />Если вы получаете сообщение </span><span style=" font-family:'Courier New,courier'; font-size:10pt;">Timeout: No Response from ...</span><span style=" font-size:10pt;">, значит вам нужно убедиться, что SNMP включен на устройстве и серверу разрешено соединяться с портом 161/UDP коммутатора.<br />Сообщение </span><span style=" font-family:'Courier New,courier'; font-size:10pt;">No Such Object available on this agent at this OID</span><span style=" font-size:10pt;"> говорит о том, что запрашиваемый параметр не поддерживается.<br /><br />Чтобы прочитать полный список параметров с устройства выполните:<br /></span><span style=" font-family:'Courier New,courier'; font-size:10pt;">snmpwalk -v версия_протокола -c комьюнити адрес_устройства</span><span style=" font-size:10pt;"><br /><br />Любители GUI для чтения SNMP-данных с устройства могут воспользоваться программами типа MIB Browser.<br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">Карта сети</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;"><br />Карту придется кропотливо составлять вручную. Тут надо знать пару трюков. Чтобы над соединительными линиями между оборудованием показывать скорость, добавьте в подпись вызов соответствующего item в фигурных скобках. Например:<br /></span><span style=" font-family:'Courier New,courier'; font-size:10pt;">&amp;#8593; {02-CS-42-3750:ifOutOctets.10112.last(0)}</span><span style=" font-size:10pt;"><br /></span><span style=" font-family:'Courier New,courier'; font-size:10pt;">{02-CS-42-3750:ifInOctets.10112.last(0)} &amp;#8595;</span><span style=" font-size:10pt;"><br /><br />Запись </span><span style=" font-size:10pt; font-style:italic;">02-CS-42-3750:ifOutOctets.10112.last(0)</span><span style=" font-size:10pt;"> означает получить у хоста 02-CS-42-3750 последнее по времени значение параметра ifOutOctets (отправлено байт). </span><span style=" font-family:'Courier New,courier'; font-size:10pt;">&amp;#8593;</span><span style=" font-size:10pt;"> и </span><span style=" font-family:'Courier New,courier'; font-size:10pt;">&amp;#8595;</span><span style=" font-size:10pt;"> это просто коды стрелочек ↑ и ↓ для красоты.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image627560060.png" /><span style=" font-size:10pt;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;"><br />Также в свойствах Link вы можете настроить отображении линии красным в случае падения порта в down.<br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">Мониторинг состояния портов</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;"><br />К сожалению, в Zabbix нет удобного инструмента для просмотра состояния отдельных портов устройств, поэтому его пришлось написать. Информация импортируется из Zabbix и выводится администратору в удобном виде:<br /></span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image631222617.png" /><span style=" font-size:10pt;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;"><br />Серый цвет порта обозначает, то что он находится в down. Цвет от зеленого до красного меняется в зависимости от загрузки порта. Гигабитные порты выделены рамочкой.<br /><br />Минус скрипта в том, что он писался «для себя», поэтому установка достаточно корявая (-:. </span><a href="http://ross.vc/misc/ports.zip"><span style=" font-size:10pt; text-decoration: underline; color:#0057ae;">Скачайте исходники</span></a><span style=" font-size:10pt;"> и прочитайте readme.<br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">Производительность</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;"><br />Нельзя не упомянуть о возможной проблеме с производительностью zabbix-сервера. Предположим, что вы раз в минуту получаете информацию об 11 параметрах каждого порта 50-ти 24-портовых свитчей. На базу данных zabbix-сервера ляжет нагрузка в среднем 220 записей в секунду. Для слабой машины она может оказаться непосильной. Поэтому рекомендуется ограничивать количество item'ов или увеличивать интервал проверки. Мы считаем достаточным запрашивать статус порта, трафик, количество ошибок и широковещательных пакетов раз в 60 секунд.<br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt; font-weight:600;">Планы</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:10pt;"><br />В следующей версии генератора шаблонов хотелось бы добавить возможность получения остальных параметров интерфейсов, выбор цветов линий для графиков, возможность указания скорости портов для не-Cisco устройств. Предложения приветствуются.<br /><br /></span><span style=" font-size:10pt; font-style:italic;">Выражаю благодарность Бугаенко Владиславу за помощь в создании и тестирования скриптов.</span><span style=" font-size:10pt;"> </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;"><br /></p></body></html>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Что такое маршрут в фреймверке Yii</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для начала нужно знать, что во фремверке Yii есть <span style=" font-weight:600;">контроллеры</span> и <span style=" font-weight:600;">действия</span>. Через URL в строке браузера можно обратиться к конкретному <span style=" font-weight:600;">действию</span> конкретного <span style=" font-weight:600;">контроллера</span>.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Пример:</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New'; color:#6a1009;">http://hostname/index.php?r=message/edit</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">При переходе на данный URL будет вызвано действие <span style=" font-family:'Courier New'; color:#6a1009;">edit</span> контроллера <span style=" font-family:'Courier New'; color:#6a1009;">message</span>. Названия <span style=" font-family:'Courier New'; color:#6a1009;">edit</span> и <span style=" font-family:'Courier New'; color:#6a1009;">message</span> - это идентификаторы действия и контроллера. Переменная <span style=" font-family:'Courier New'; color:#6a1009;">r</span> обозначает, что используется механизм роутинга (маршрутизации).</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Итак, контроллеры и действия опознаются по их идентификаторам. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Идентификатор контроллера</span> — это запись формата <span style=" font-family:'Courier New,courier';">path/to/xyz</span>, соответствующая файлу класса контроллера <span style=" font-family:'Courier New,courier';">protected/controllers/path/to/XyzController.php</span>, где <span style=" font-family:'Courier New,courier';">xyz</span> следует заменить реальным названием класса (например, <span style=" font-family:'Courier New'; color:#6a1009;">message</span> соответствует <span style=" font-family:'Courier New'; color:#6a1009;">protected/controllers/M</span><span style=" font-family:'Courier New'; color:#6a1009;">essage</span><span style=" font-family:'Courier New'; color:#6a1009;">Controller.php</span>). </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Идентификатор действия</span> — это название метода без префикса <span style=" font-family:'Courier New,courier';">action</span>. Например, если класс контроллера содержит метод <span style=" font-family:'Courier New,courier';">actionEdit</span>, то идентификатор соответствующего действия — <span style=" font-family:'Courier New,courier';">edit</span>. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Пользователь обращается к контроллеру и действию посредством <span style=" font-weight:600;">маршрута</span> (route). Маршрут формируется путём объединения идентификаторов контроллера и действия, отделенных косой чертой. Например, маршрут <span style=" font-family:'Courier New'; color:#6a1009;">message</span><span style=" font-family:'Courier New'; color:#6a1009;">/edit</span> указывает на действие <span style=" font-family:'Courier New,courier';">edit</span> контроллера <span style=" font-family:'Courier New'; color:#6a1009;">M</span><span style=" font-family:'Courier New'; color:#6a1009;">essage</span><span style=" font-family:'Courier New'; color:#6a1009;">Controller</span>, и по умолчанию URL <span style=" font-family:'Courier New'; color:#6a1009;">http://hostname/index.php?r=</span><span style=" font-family:'Courier New'; color:#6a1009;">message</span><span style=" font-family:'Courier New'; color:#6a1009;">/edit</span> приведёт к вызову именно этих контроллера и действия. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Примечание:</span> По умолчанию маршруты чувствительны к регистру. Это возможно изменить путём установки свойства <a href="http://www.yiiframework.com/doc/api/CUrlManager#caseSensitive"><span style=" text-decoration: underline; color:#0000ff;">CUrlManager::caseSensitive</span></a> равным false в конфигурации приложения. В режиме, не чувствительном к регистру, убедитесь, что названия директорий, содержащих файлы классов контроллеров, указаны в нижнем регистре, а также, что <a href="http://www.yiiframework.com/doc/api/CWebApplication#controllerMap"><span style=" text-decoration: underline; color:#0000ff;">controller map</span></a> и <a href="http://www.yiiframework.com/doc/api/CController#actions"><span style=" text-decoration: underline; color:#0000ff;">action map</span></a> используют ключи в нижнем регистре. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Приложение может содержать <a href="http://yiiframework.ru/doc/guide/ru/basics.module"><span style=" text-decoration: underline; color:#0000ff;">модули</span></a>. Маршрут к действию контроллера внутри модуля задаётся в формате <span style=" font-family:'Courier New,courier';">moduleID/controllerID/actionID</span>. Более подробно это описано в <a href="http://yiiframework.ru/doc/guide/ru/basics.module"><span style=" text-decoration: underline; color:#0000ff;">разделе о модулях</span></a>.</p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p></body></html>
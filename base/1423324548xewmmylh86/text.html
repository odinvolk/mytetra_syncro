<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Установка приоритетов для процессов: nice, renice</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="BId-process-control-pa24"></a>Все процессы в системе работают с определёнными приоритетами, также называемыми «значениями nice», которые могут изменяться от -20 (наивысший приоритет) до 19 (наименьший приоритет). Если оно не определено, каждый процесс будет запускаться с приоритетом по умолчанию - 0 («базовым» приоритетом распределения машинного времени). Для процессов с более высоким приоритетом (меньшим значением nice, вплоть до -20) будет выделено больше системных ресурсов по сравнению с другими процессами с меньшим приоритетом (до 19), предоставляя им большее число циклов процессора. Все пользователи, кроме рута, могут только понижать приоритет своих собственных процессов в диапазоне от 0 до 19. Суперпользователь (<span style=" font-family:'Courier New,courier';">root</span>) для любого процесса может установить любое значение приоритета.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="id2552409"></a><span style=" font-size:large; font-weight:600;">r</span><span style=" font-size:large; font-weight:600;">enice</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="BId-process-control-pa25"></a>Если один или несколько процессов используют слишком много ресурсов системы, вы можете изменить их приоритеты вместо того, чтобы убивать их. Для этого используется команда <span style=" font-weight:600;">renice</span>. Ее синтаксис:<a name="BId-process-control-sc7"></a> </p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="2" bgcolor="#e0e0e0">
<tr>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">renice приоритет [[-p] pid ...] [[-g] pgrp ...] [[-u] пользователь ...] </span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="BIdNEW-process-control-pa36"></a>Где <span style=" font-family:'Courier New,courier';">приоритет</span> - значение приоритета, <span style=" font-family:'Courier New,courier';">pid</span> - идентификатор процесса (используйте опцию <span style=" font-family:'Courier New,courier';">-p</span> для указания нескольких процессов), <span style=" font-family:'Courier New,courier';">pgrp</span> - идентификатор группы процесса (если их несколько, используйте <span style=" font-family:'Courier New,courier';">-g</span>) и <span style=" font-family:'Courier New,courier';">user</span> - имя пользователя, владеющего процессом (<span style=" font-family:'Courier New,courier';">-u</span> для нескольких пользователей).</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="BId-process-control-pa26"></a>Давайте представим, что вы запустили процесс с PID 785, который выполняет длительные научные вычисления, а пока он работает, вы хотели бы немного расслабится и поиграть, для чего вам нужно освободить немного системных ресурсов. Тогда вы можете набрать:<a name="BId-process-control-sc8"></a> </p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="2" bgcolor="#e0e0e0">
<tr>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$ renice +15 785 </span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="BIdNEW-process-control-pa37"></a>В этом случае выполнение вашего процесса потенциально может занять больше времени, однако он не будет забирать процессорное время у других процессов.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="BId-process-control-pa27"></a>Если вы системный администратор и заметили, что какой-то пользователь запустил слишком много процессов, и они используют слишком много системных ресурсов, вы можете изменить приоритет процессов этого пользователя при помощи одной команды:<a name="BId-process-control-sc9"></a> </p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="2" bgcolor="#e0e0e0">
<tr>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># renice +20 -u peter </span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="BIdNEW-process-control-pa38"></a>После все процессы пользователя peter получат наименьший приоритет и не будут затруднять работу процессов других пользователей.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="id2552618"></a><span style=" font-size:large; font-weight:600;">n</span><span style=" font-size:large; font-weight:600;">ice</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="BId-process-control-pa28"></a>Теперь, когда вы знаете о том, что можно изменять приоритеты процессов, вам может понадобиться запустить программу с определенным приоритетом. Для этого используйте команду <span style=" font-weight:600;">nice</span>.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="BId-process-control-pa29"></a>В этом случае вам необходимо указать свою команду в качестве опции для <span style=" font-weight:600;">nice</span>. Опция <span style=" font-family:'Courier New,courier';">-n</span> используется для установки значения приоритета. По умолчанию <span style=" font-weight:600;">nice</span> устанавливает приоритет 10.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="BId-process-control-pa30"></a>Например, вам нужно создать ISO-образ установочного CD-ROM'а с Mandrakelinux:<a name="BId-process-control-sc10"></a> </p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="2" bgcolor="#e0e0e0">
<tr>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$ dd if=/dev/cdrom of=~/mdk1.iso </span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="BIdNEW-process-control-pa39"></a>В некоторых системах со стандартным IDE CD-ROM процесс копирования больших объёмов информации может захватить слишком много ресурсов системы. Чтобы предотвратить блокирование других процессов из-за копирования, вы можете запустить процесс с пониженным приоритетом при помощи этой команды:<a name="BId-process-control-sc11"></a> </p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="2" bgcolor="#e0e0e0">
<tr>
<td>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">$ nice -n 19 dd if=/dev/cdrom of=~/mdk1.iso </span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="BIdNEW-process-control-pa40"></a>и продолжать заниматься своими делами.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></body></html>
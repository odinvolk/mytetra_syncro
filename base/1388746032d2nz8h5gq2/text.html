<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="7426391742012703291"></a><span style=" font-size:large; font-weight:600;">A</span><span style=" font-size:large; font-weight:600;">ndroid root из Linux </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">Статья от 16 февраля 2012 г. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="post-body-7426391742012703291"></a>Это руководство для тех, кто хочет получить права root на своем Android телефоне.<br /><a name="more"></a><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="gt-res-content"></a><span style=" font-weight:600;">0. П</span><span style=" font-weight:600;">режде чем начнем сделаем р</span><a name="result_box"></a><span style=" font-weight:600;">е</span><span style=" font-weight:600;">зервную копию данных,  на всякий случай.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /><span style=" font-weight:600;">1. Установка ADB</span><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Скачайте <a href="http://developer.android.com/sdk/index.html"><span style=" text-decoration: underline; color:#0057ae;">Android-SDK</span></a> для linux. <span style=" font-style:italic;">[Это пакет инструментов для разработчиков под Android]</span> </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Распакуйте директорию /tools на рабочий стол. <span style=" font-style:italic;">[Возможно для этого понадобится установить архиватор 7zip. Он есть в репозиториях Ubuntu.]</span> </li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Создайте директорию &quot;bin&quot; и поместите туда программу ADB: </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:80px; margin-right:80px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace';">mkdir -p ~/bin <br />mv ~/Desktop/tools/adb ~/bin/</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /><span style=" font-weight:600;">2. Сбор необходимой информации</span><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">  На вашем телефоне перейдите <span style=" font-style:italic;">Насторйки=&gt;Приложения=&gt;Разработка (Settings=&gt;Applications=&gt;Development)</span> и включите опцию <span style=" font-style:italic;">Отладка по USB(USB debugging)</span></li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Подключите ваш телефон к компьютеру. <span style=" font-style:italic;">[*В режиме телефона, не в режиме USB накопителя]</span> </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В терминале на компьютере выполните &quot;<span style=" font-family:'Verdana,sans-serif'; font-weight:600;">lsusb</span>&quot; без кавычек</li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Одна из строк в результате должна быть похожа на что-то вроде (в зависимости от производителя вашего телефона):</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:small;">Bus 001 Device 002: ID 04e8:681c Samsung Electronics Co., Ltd</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Запишите или запомните первые 4 символа после ID. Это идентификатор производителя (Vendor ID, в нашем примере 04e8). Номера Bus и Device будут разными всякий раз при переподключении телефона к компьютеру или после его перезагрузки.</li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В терминале выполните &quot;<span style=" font-family:'Verdana,sans-serif'; font-size:small; font-weight:600;">id</span>&quot; без кавычек, эта команда покажет имя и группу пользователя под которым вы вошли в систему (если вы не уверены, что знаете их точно)</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /><span style=" font-weight:600;">3. Установка првила Udev для работы ADB</span><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">  Откройти любимый текстовый редатктор с правами root. Например, в терминале Kubuntu наберите &quot;<span style=" font-family:'Verdana,sans-serif'; font-size:small; font-weight:600;">kdesudo kate</span>&quot;.</li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вставьте следующую строку без переносов в редактор и измените как указано ниже:</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:small;">SUBSYSTEM==&quot;usb&quot;, SYSFS{idVendor}==&quot;&lt;идентификатор производителя Vendor ID&gt;&quot;, OWNER=&quot;&lt;имя пользователя&gt;&quot; GROUP=&quot;&lt;имя группы&gt;&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;">Для нашего примера &quot;<span style=" font-family:'inherit'; font-size:small;">&lt;</span><span style=" font-family:'Courier New,Courier,monospace'; font-size:small;">идентификатор производителя Vendor ID</span><span style=" font-family:'inherit'; font-size:small;">&gt;</span>&quot; заменяем &quot;04e8&quot;. Не трогаете кавычки но заменяете &lt; &gt; и все, что в нутри. </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Сохраните файл по этому пути /etc/udev/rules.d/51-android.rules</li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">И ещё по этому пути /lib/udev/rules.d/51-android.rules</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">[Примечание: Вообще вам нужен первый из них, но он может отличаться в разных системах]</span><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В терминале, наберите <span style=" font-family:'Verdana,sans-serif'; font-size:small; font-weight:600;">ls /etc/udev/rules.d/51-android.rules</span> дабы убедиться, что файл на месте, аналогично для второго пути.</li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Перезапустите udev или перезагрузите компьютер чтобы изменения вступили в силу</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">[Примечание: в некоторых руководствах при настройке првил udev рекомендуется устанавливать права доступа 0666 которые открывают доступ к файлу всем. Здесь мы назначаем доступ одному пользователю, которому это нужно, так будет безопаснее. Приоритет правила установили 51, это не принципиально, можно назначить и другой.] </span><br /><br /><span style=" font-weight:600;">4. Проверяем что получилось</span><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В терминале наберите &quot;<span style=" font-family:'Verdana,sans-serif'; font-size:small; font-weight:600;">lsusb</span>&quot;, как делали это ранее</li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Одна из строк должна быть похожа на: </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace'; font-size:small;">Bus 001 Device 002: ID 04e8:681c Samsung Electronics Co., Ltd</span><span style=" font-family:'Courier New,Courier,monospace';"> </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В данный момент нас интересуют номера после Bus и Device, которые, возможно, изменились если вы перезагрузили компьютер.</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В терминале выполните &quot;<span style=" font-family:'Verdana,sans-serif'; font-size:small; font-weight:600;">ls -l /dev/bus/usb/001/002</span>&quot; ВНИМАНИЕ 001/002 это Bus/Device из примера выше, замените Bus/Device на цифры из вашего вывода команды &quot;<span style=" font-family:'Verdana,sans-serif'; font-size:small; font-weight:600;">lsusb</span>&quot;.</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если в результате команды имя пользователя и группа отличаются от &quot;root root&quot; можно продолжать дальше. Если это не так, перечитайте и повторите шаги 2 и 3.</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">*Убедитесь что ваш телефон все еще в режиме <span style=" font-style:italic;">Отладка по USB</span>. Должен быть красный треугольник с восклицательным знаком в строке состояния вашего телефона (зависит от темы и версии Android).</li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В терминале наберите &quot;<span style=" font-family:'Verdana,sans-serif'; font-size:small; font-weight:600;">sudo adb devices</span>&quot; <span style=" font-style:italic;">[*sudo понадобится только при первом запуске adb.]</span></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вы должны увидеть свой телефон в списке.<br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">Замечание. Предварительное рутование может и не потребоваться при переходе непосредственно на нестандартные прошивки, такие как: CM7 или MIUI через Odin/Heimdall, в любом случае вам потребуется ADB (см. пункты 1-4)</span><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /><span style=" font-weight:600;">5. Загрузка </span><a href="http://theandroidsite.com/wp-content/uploads/2011/01/FascinateRoot_v02.zip"><span style=" font-weight:600; text-decoration: underline; color:#0057ae;">Samsung Fascinate Root Package</span></a><span style=" font-weight:600;"><br /></span>Эти файлы необходимы, хотя драйвера не нужны для Linux.<span style=" font-weight:600;"><br /><br />6. Распаковка 4-х файлов в ~/bin<br /></span>Эту директорию мы создали в шаге 1, там уже должен быть файл adb. Вы можете распаковать куда-нибудь загруженный архив и поместить необходимые файлы в ~/bin  (это su, rage.bin, busybox, Superuser.apk).<span style=" font-weight:600;"><br /><br />7. Переход в  ~/bin</span><span style=" font-weight:600; text-decoration: underline;"> </span><br />В терминале наберите &quot;<span style=" font-family:'Verdana,sans-serif'; font-size:small; font-weight:600;">cd ~/bin</span>&quot;, а затем &quot;<span style=" font-family:'Verdana,sans-serif'; font-size:small; font-weight:600;">ls</span>&quot;, должно быть 5 файлов.<br /><br /><span style=" font-weight:600;">8. Перенос файлов на телефон и запуск root: <br /></span>Выполните каждую из следующих строк по отдельности в терминале, скопируйте и встаьте (жмите Enter после вставки каждой строки):<br /><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace';">./adb push su /sdcard/su <br />./adb push rage.bin /data/local/tmp/rage.bin <br />./adb push busybox /sdcard/busybox <br />./adb shell </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">[Примечание: символ приглашения ввода строки должен измениться на </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600; font-style:italic;">$</span><span style=" font-style:italic;">, это означает, что мы удаленно подключились к телефону] </span><br /></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace';">cd /data/local/tmp </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace';">chmod 0755 rage.bin </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace';">./rage.bin </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /><span style=" font-style:italic;">[Примечание:  Эта комманда определит ограничение процесса, найдет номер процесса adb, а затем запускает процессы до исчерпания этого ограничения. Вы быстро вернетесь в строк сприглашением $, но </span><span style=" font-weight:600; font-style:italic;">ЭТО НЕ ВСЕ. ЖДИТЕ</span><span style=" font-style:italic;"> пока не выведется что-то похожее на &quot;[+] Forked 3705 childs.&quot; и вы вернетесь в свою домашнюю директорию.]</span><br /><br /><span style=" font-weight:600;">9. Зафиксируем права root</span><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В терминале вернитесь в директорию ~/bin введите &quot;<span style=" font-family:'Verdana,sans-serif'; font-size:small; font-weight:600;">./adb shell</span>&quot;<br /><br />На этот раз вы должны получить приглашение <span style=" font-weight:600;">#</span> вместо <span style=" font-weight:600;">$</span>. Это означает, что теперь вы удаленно зашли на телефон как root.</li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Скопируйте и вставьте каждую строку по отдельности (жмите Enter после каждой строки):</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,Courier,monospace';">mount -t rfs -o remount,rw /dev/block/stl9 /system <br />cd /system/xbin <br />cat /sdcard/su &gt; su <br />cat /sdcard/busybox &gt; busybox <br />chmod 4755 su <br />chmod 4755 busybox <br />exit <br />./adb install Superuser.apk</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /><span style=" font-weight:600;">10. Убедимся что получили права root</span> <br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Перезапускаем телефон</li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В терминале выполняем &quot;<span style=" font-family:'Verdana,sans-serif'; font-size:small; font-weight:600;">~/bin/adb shell</span>&quot;<br />Вы должны получить приглашение <span style=" font-weight:600;">$ </span> <br />Выполните &quot;<span style=" font-family:'Verdana,sans-serif'; font-size:small; font-weight:600;">su</span>&quot;<br />На телефоне должно появиться всплывающее сообщение где запрашивается подтверждение использования прав суперпользователя. После того, как вы разрешите, приглашение должно измениться на <span style=" font-weight:600;">#</span></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Это сообщение будет появляться всякий раз, когда вы устонавливаете и запускаете программу требующую привелегий пользователя root.<br />Теперь запустите приложение SuperUser, оно должно показать список программ имеющих привелегии root пользователя.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></body></html>
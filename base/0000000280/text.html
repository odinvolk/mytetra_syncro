<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'Sans Serif'; font-size:9pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Настройку переключения раскладки в KDE правильнее делать не через XKB, а через конфигурационный файл X-сервера <span style=" font-weight:600;">xorg.conf</span>. В этом случае все внесенные настройки будут так же работать и в других оконных менеджерах.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Чтобы сделать раскладку через <span style=" font-weight:600;">Caps Lock</span>, в файле <span style=" font-weight:600;">/etc/X11/xorg.conf</span> опцию <span style=" font-weight:600;">XkbOptions </span>надо привести к виду "grp:caps_toggle,grp_led:caps".</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Пример настройки:</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,12,-1,5,50,0,0,0,0,0'; font-size:11pt;">Section "InputDevice"</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,12,-1,5,50,0,0,0,0,0'; font-size:11pt;">    Identifier     "Generic Keyboard"</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,12,-1,5,50,0,0,0,0,0'; font-size:11pt;">    Driver         "kbd"</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,12,-1,5,50,0,0,0,0,0'; font-size:11pt;">    Option         "CoreKeyboard"</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,12,-1,5,50,0,0,0,0,0'; font-size:11pt;">    Option         "XkbRules" "xorg"</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,12,-1,5,50,0,0,0,0,0'; font-size:11pt;">    Option         "XkbModel" "pc105"</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,12,-1,5,50,0,0,0,0,0'; font-size:11pt;">    Option         "XkbLayout" "us,ru"</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,12,-1,5,50,0,0,0,0,0'; font-size:11pt;">    Option         "XkbVariant" ",winkeys"</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,12,-1,5,50,0,0,0,0,0'; font-size:11pt;">    Option         "XkbOptions" "grp:caps_toggle,grp_led:caps"</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,12,-1,5,50,0,0,0,0,0'; font-size:11pt;">EndSection</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Внимание!</span> Стандартный индиркатор раскладки KDE не всегда воспринимает переключение раскладки. Для того, чтобы переключение раскладки отображало текущую раскладку, надо установить индикатор раскладки kkbswitch. Он правильно показывает переключенную раскладку.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Чтобы использовалась только настройка, сделанная в <span style=" font-weight:600;">xorg.conf</span>, надо отключить переключение раскладки через XKB. Для этого нужно снять галку  "Центр управления" -&gt; "Раскладка клавиатуры" -&gt; "Параметры XKB" -&gt; "Использовать переключатели XKB". </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p></body></html>
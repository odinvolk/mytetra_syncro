<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="comment15515904"></a><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fwww.reddit.com%2Fr%2Fdeepfakes%2Fcomments%2F7ox5vn%2Ffakeapp_a_desktop_tool_for_creating_deepfakes%2F"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">h</span></a><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">ttps://www.reddit.com/r/deepfakes/comments/7ox5vn/fakeapp_a_desktop_tool_for_creating_deepfakes/</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br />I've completed a desktop app /w GUI to create deepfakes. Here is a what it looks like ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fimgur.com%2FBDX9ANb"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://imgur.com/BDX9ANb</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> ). For anyone unfamiliar with this subreddit, deepfakes are neural network-generated faceswap videos created with a machine learning algorithm designed by /u/deepfakes( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fwww.reddit.com%2Fu%2Fdeepfakes"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://www.reddit.com/u/deepfakes</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> ). Check the sub wiki for more info. Here is an excellent example of a deepfake of Daisy Ridley ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fthumbs.gfycat.com%2FEasySecondDouglasfirbarkbeetle-size_restricted.gif"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://thumbs.gfycat.com/EasySecondDouglasfirbarkbeetle-size_restricted.gif</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> ) produced with this app in less than a day by /u/nuttynutter6969 ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fwww.reddit.com%2Fu%2Fnuttynutter6969"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://www.reddit.com/u/nuttynutter6969</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> ). This app is intended to allow users to move through the full deepfake creation pipeline—creating training data, training a model, and creating fakes with that model—without the need to install Python and other dependencies or parse code. The download link is in the comments.<br /><br />Instructions:<br /><br />Download CUDA 8.0 and store it's bin folder in the PATH environment variable ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fimgur.com%2Fa%2FitUH9"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://imgur.com/a/itUH9</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> )<br /><br />Split some videos with your two desired faces into two sets of a few hundred frames each with a tool like FFMPEG ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fwww.ffmpeg.org%2F"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://www.ffmpeg.org/</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> ). If you use FFMPEG, the command you want is: ffmpeg -i scene.mp4 -vf fps=[FPS OF VIDEO] &quot;out%d.png&quot;. After splitting, run both directories of split frames through the &quot;Align&quot; tool to produce training data<br /><br />Switch to the &quot;Train&quot; tool, and input the paths of the training data produced in step 1 (it should be in a folder called &quot;aligned&quot;) as well as those of the encoder and decoders included in the &quot;models&quot; folder along with this project<br /><br />Train until the preview window shows results you are satisfied with<br /><br />Split the video to be faked into frames and run the &quot;Merge&quot; tool on them to create faked frames, which can then be remerged into a deepfaked video<br /><br />Copy and reuse the same encoders for faster results in future fakes<br /><br />Requirements:<br /><br />-CUDA 8.0 must be installed, and its bin folder must be included in the PATH environment variable.<br /><br />-At least a few GB of free space on disk to allow the app to create Temp files<br /><br />Notes:<br /><br />-Run fakeapp.bat to launch the app<br /><br />-RuntimeError: module compiled against api version 0xc but this version numpy is 0xb is just a warning related to how the alignment libraries were installed, the app will run properly despite it appearing if no other errors occur<br /><br />-It may take 30-45 seconds after pressing the Start button for the app to unpack and start the training/merging scripts the first time<br /><br />-You can still quit training by focusing the training window and pressing &quot;q&quot;<br /><br />-Paths to models/data must be absolute, not relative<br /><br />If it doesn't work for you:<br /><br />The console for the tool you are using (Align, Train, or Merge) will output a full error log if the tool fails. Here are some known errors with solutions:<br /><br />General Issues<br /><br />All directories used by the app should have names comprised of only English characters. Many users have had issues with directories with Cyrillic or Chinese characters, so if you have directories like this make sure to use different directories with English character names when running the app.<br /><br />If any tool's log contains AssertionError: dir.isDir(), the tool cannot find your directories. Make sure they are typed into the app correctly.<br /><br />Align Issues<br /><br />If the Align log contains KeyError: state_dict, your version of a dynamic library called2DFan-4.pth.tar is corrupted. This is a library downloaded the first time the Align tool is run, and it is possible for that download to fail to produce a working 2DFan file. Download a working version from the link in the comments (this link is not allowed to be in the post), and replace the corrupted version in C:\Users\[NAME]\AppData\Local\face_alignment\data.<br /><br />If the Align log contains AssertionError: can't find input files make sure the File Type parameter is set to the same image type as the images in your data folder (i.e. png, jpg, etc.)<br /><br />If the Align log contains error while calling cudaMalloc() reason: out of memory, you are probably training with images that are too large. Make sure images are not greater than 1200x700 in resolution, this resolution is plenty to produce a good model<br /><br />Train Issues<br /><br />If the Train log contains AssertionError in image_augmentation.py you are training with images of the wrong size, make sure you are only training with the 256x256 images created using the Align tool<br /><br />If the Train log contains Missing cudart_64.dll you have the wrong version of CUDA installed (Tensorflow requires 8.0)<br /><br />If the Train log contains MemoryError train.py line 60/line 61 you are probably training with too many images at once for your GPU to handle and should reduce the number of images you are training with (500 is more than sufficient)<br /><br />If the Train log contains OOM when allocating tensor with shape [W, X, Y, Z] the current model is too intensive for your GPU. Try lowering the batch size (to a lower power of 2 than 64) and see if that helps.<br /><br />If the Train log mentions Theano Keras is wrongly trying to use Theano as a backend. Setting the KERAS_BACKEND environment variable to &quot;tensorflow&quot; should fix it.<br /><br />Merge Issues<br /><br />If Merge outputs faces with visible boxes around them, make sure that *Seamless is set to 'true' and faces are not too close up in the images you are working with. The scripts this app works with cannot always avoid creating a box on very large faces, but will almost always create a seamless merge with moderately-sized faces.<br /><br />In the future I plan to make ease-of-use improvements to the app and look into replacing scripts with more efficient/streamlined/accurate versions as they come out.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image92052645.png" /><a href="http://joyreactor.cc/user/Good_Man"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Good_Man</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">11.Jan.201806:50</span><a href="http://joyreactor.cc/post/3363549#comment15515904"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">ссылка</span></a><a href="http://joyreactor.cc/post/3363549#comment15515559"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">↑</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> 0.7 </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="comment_list_comment_15515904"></a><span style=" font-family:'Sans Serif'; font-size:9pt;">L</span><span style=" font-family:'Sans Serif'; font-size:9pt;">ink to FakeApp ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fdrive.google.com%2Ffile%2Fd%2F1_D6JIZsv4JdIqydhfpXCP63HzlvnqCt6%2Fview"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://drive.google.com/file/d/1_D6JIZsv4JdIqydhfpXCP63HzlvnqCt6/view</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> )<br /><br />Link to an uncorrupted 2DFan if you get the KeyError: state_dict error. ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fdrive.google.com%2Ffile%2Fd%2F19Xtwjohj8bO_Fvnlo81L7pSF5aN-zoX6%2Fview"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://drive.google.com/file/d/19Xtwjohj8bO_Fvnlo81L7pSF5aN-zoX6/view</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> )</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image92052645.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span><a href="http://joyreactor.cc/user/Good_Man"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Good_Man</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">11.Jan.201806:51</span><a href="http://joyreactor.cc/post/3363549#comment15515906"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">ссылка</span></a><a href="http://joyreactor.cc/post/3363549#comment15515904"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">↑</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> 0.3 </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="comment_list_comment_15515906"></a><span style=" font-family:'Sans Serif'; font-size:9pt;">З</span><span style=" font-family:'Sans Serif'; font-size:9pt;">абыл добавить wiki ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fwww.reddit.com%2Fr%2Fdeepfakes%2Fwiki%2Findex"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://www.reddit.com/r/deepfakes/wiki/index</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> ) от него же<br /><br />FAQ<br /><br />*Can I see some examples of videos created by this algorithm?<br /><br />For the best new examples, sort the sub by top/all-time. The most widely known example is this faked video of Gal Gadot (NSFW) ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fwww.reddit.com%2Fr%2FCelebFakes%2Fcomments%2F7amgwl%2Fgal_gadot_oc%2F"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://www.reddit.com/r/CelebFakes/comments/7amgwl/gal_gadot_oc/</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> ), which was featured on a number of sites ( </span><a href="http://joyreactor.cc/redirect?url=http%3A%2F%2Fwww.complex.com%2Flife%2F2017%2F12%2Fai-assisted-fake-is-here"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">http://www.complex.com/life/2017/12/ai-assisted-fake-is-here</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> ).<br /><br />*Where are the original scripts that produced these videos?<br /><br />The source code can be found here ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fgithub.com%2Fdeepfakes%2Ffaceswap"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://github.com/deepfakes/faceswap</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> ). The entire project with pre-trained models can be found here ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fanonfile.com%2Fp7w3m0d5be%2Fface-swap.zip"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://anonfile.com/p7w3m0d5be/face-swap.zip</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> ).<br /><br />*Is there a program/website that I can use to produce these videos?<br /><br />FakeApp ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fwww.reddit.com%2Fr%2Fdeepfakes%2Fcomments%2F7oc018%2Fsimple_desktop_app_with_gui%2F"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://www.reddit.com/r/deepfakes/comments/7oc018/simple_desktop_app_with_gui/</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> ) is a community-developed desktop app to run the deepfakes algorithm without installing Python, Tensorflow, etc. Currently it supports only training/conversion of faces, and cannot create training data.<br /><br />*How can I install and run the original scripts?<br /><br />Follow the instructions here ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fwww.reddit.com%2Fr%2Fdeepfakes%2Fcomments%2F7nq173%2Fv2_tutorial_intelbased_python_easy_to_follow%2F%3Fst%3Djc4lh5lx%26sh%3Dacde4329"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://www.reddit.com/r/deepfakes/comments/7nq173/v2_tutorial_intelbased_python_easy_to_follow/?st=jc4lh5lx&amp;sh=acde4329</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> ).<br /><br />*What tools do I need to produce these videos?<br /><br />At a minimum, your computer should have a good GPU. Failing this, you can rent cloud GPU(s) through services like Google Cloud Platform ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fcloud.google.com%2Fgpu%2F"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://cloud.google.com/gpu/</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> ).<br /><br />*How long does this whole process take?<br /><br />Times vary by hardware quality, but generally speaking the pipeline is:<br /><br />Extraction: Producing uniform training data of a model's face (5-20 min)<br /><br />Training: Running a neural network to learn to emulate this face (8-12 hours)<br /><br />Conversion: Using the neural network to project the target face onto the original face in a video frame-by-frame (5-20 min)<br /><br />*Pages <br /><br />-In progress<br /><br />Warp On Other Domain Landmarks ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fwww.reddit.com%2Fr%2Fdeepfakes%2Fwiki%2FWarpOnOtherDomainLandmarks"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://www.reddit.com/r/deepfakes/wiki/WarpOnOtherDomainLandmarks</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> )<br /><br />Pose Similarity Estimation ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fwww.reddit.com%2Fr%2Fdeepfakes%2Fwiki%2FPoseSimilarityEstimation"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://www.reddit.com/r/deepfakes/wiki/PoseSimilarityEstimation</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> )<br /><br />Alternate Loss Functions ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fwww.reddit.com%2Fr%2Fdeepfakes%2Fwiki%2FAlternateLossFunctions"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://www.reddit.com/r/deepfakes/wiki/AlternateLossFunctions</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> )<br /><br />-Placeholders<br /><br />Original DeepFakes Implementation ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fwww.reddit.com%2Fr%2Fdeepfakes%2Fwiki%2FOriginalDeepFakesImplementation"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://www.reddit.com/r/deepfakes/wiki/OriginalDeepFakesImplementation</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> )<br /><br />Image Selection Region Expansion ( </span><a href="http://joyreactor.cc/redirect?url=https%3A%2F%2Fwww.reddit.com%2Fr%2Fdeepfakes%2Fwiki%2FImageSelectionRegionExpansion"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://www.reddit.com/r/deepfakes/wiki/ImageSelectionRegionExpansion</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> )</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans Serif'; font-size:9pt;"><br /></p></body></html>
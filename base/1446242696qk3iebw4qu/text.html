<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Для получения данных, передаваемых по ИК каким-нибудь устройством, например, пультом от телевизора, можно воспользоваться программой LIRC и обслуживающими ее модулями ядра. Кстати, программа LIRC портирована под Windows и прекрасно в нем работает. Называется WinLIRC.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Приемник я собирал по следующей схеме:</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image78137523.png" /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Датчик IC1 — марки TSOP 1738 или аналогичный. Вместо 78L05 (IC2) можно взять советский аналог КР142ЕН5 (левый вывод — вход, правый — выход, средний — заземляем). Диод D1 подойдет любой. </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Чтобы получить данные, передаваемые через самодельный ИК-приемник, подключенный по COM-порту, нужно сделать следующее.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">1. Установить пакет lirc.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">2. Подключить ИК-приемник к COM-порту.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">3. Дать команду освобождения COM-порта:</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">setserial /dev/ttyS0 uart none</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">4. Подключить драйверы ядра (<span style=" color:#000000;">запустить </span><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">lirc_serial</span><span style=" color:#000000;">, и автоматом запустится </span><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">lirc_dev)</span>:</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">modprobe lirc_serial</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">5. Проверить, загрузились ли драйверы ядра:</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">lsmod | grep lirc</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">6. После этих действий появится устройство <span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">/dev/lirc0</span>.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">7. Проверить, передаются ли данные через это устройство. Для этого выполнить нижеследующую команду и направить ИК-пульт на датчик, понажимать клавиши:</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">mode2 --device=/dev/lirc0</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В консоли будут видны всякие коды, передаваемые ИК-устройством. Можно посмотреть сигнал в графическом виде:</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">xmode2 -d /dev/lirc0</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если этот шаг нормально выполнится, то отконфигурировать LIRC не представляет труда. Но если данных нет, LIRC трогать вообще бесполезно, так как это следующий уровень взаимодействия.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">8. Настроить LIRC согласно инструкциям из интернета :)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14pt; font-weight:600;">Копия обсуждения на ЛОРе с выявлением подводных камней при конфигурировании LIRC</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">Обсуждение происходило здесь: </span><a href="https://www.linux.org.ru/forum/linux-hardware/2785416"><span style=" text-decoration: underline; color:#0000ff;">https://www.linux.org.ru/forum/linux-hardware/2785416</span></a></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600; color:#000000;">Самодельный IR приемник и LIRC. В Windows работает, в Linux нет. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="favs_button"></a><br />Здравствуйте! <br /><br />Достал из своих загажников вот такой самодельный девайс <br /><br /><a href="http://www.cesko.host.sk/girderplugin.htm"><span style=" text-decoration: underline; color:#0000ff;">http://www.cesko.host.sk/girderplugin.htm</span></a> <br /><br />Через него видятся команды с пульта в винде через программу WinLIRC. А вот в линухе (Ubuntu 7.04) завести данный девайс не могу. Делаю все вот по этому HOWTO <br /><br /><a href="https://help.ubuntu.com/community/InstallLirc/Feisty"><span style=" text-decoration: underline; color:#0000ff;">https://help.ubuntu.com/community/InstallLirc/Feisty</span></a> <br /><br />И уткнулся в то, что не могу сгенерировать lircd.conf... <br /><br /><br />В данный момент, при запуске компа, в логе видна надпись <br /><br />################################################## <br />## LIRC IS NOT CONFIGURED ## <br />## ## <br />## read /usr/share/doc/lirc/html/configure.html ## <br />################################################## <br /><br />Если сразу после старта посмотреть <br /><br /># dmesg | grep lirc или <br /># dmesg | grep LIRC <br /><br />то ничего не показывается. Так же, следущие команды <br /><br /># lsmod lirc <br /># ps aux | grep lirc <br /><br />тоже ничего не показывают. <br /><br />-------------------------------------------------------------------- <br /><br />Если запустить вот такой скрипт <br /><br />setserial /dev/ttyS0 uart none <br />setserial /dev/ttyS1 uart none <br />modprobe lirc_dev <br />modprobe lirc_serial <br />/etc/init.d/lirc start <br /><br />то в конце скрипта запуск демона lirc снова будет неудачным <br /><br />################################################## <br />## LIRC IS NOT CONFIGURED ## <br />## ## <br />## read /usr/share/doc/lirc/html/configure.html ## <br />################################################## <br />Starting lirc daemon:. <br /><br />Но после выполнения этого скрипта имеем <br /><br /># dmesg | grep irc <br />[ 281.197664] lirc_dev: IR Remote Control driver registered, at major 61 <br />[ 281.206875] lirc_serial: no version for &quot;lirc_unregister_plugin&quot; found: kernel tainted. <br />[ 282.209388] lirc_serial: auto-detected active high receiver <br />[ 282.209400] lirc_dev: lirc_register_plugin: sample_rate: 0 <br /><br /># lsmod | grep lirc <br />lirc_serial 13952 0 <br />lirc_dev 16116 1 lirc_serial <br /><br /># ps aux | grep lirc <br />Нет процесса <br /><br /><br />То есть вроде как все должно работать, только нужен нормальный файл /etc/lirc/lircd.conf. В интернете готового файла для моего девайса и управлялки не нашел. В HOWTO его предлагают сгенерировать через программу irrecord. <br /><br />-------------------------------------------------------------------- <br /><br />И дальше идет непонятка. Мой девайс подключен к COM1 (/dev/ttyS0). В HOWTO написано, что надо запускать команду <br /><br /># irrecord -d /dev/lirc0 lircd.conf <br /><br />В какой момент появился девайс /dev/lirc0 я не знаю, и что он из себя представляет тоже непонятно. Это не ссылка, а файл устройства. <br /><br />crw-rw---- 1 root root 61, 0 2008-05-28 14:11 lirc0 <br /><br />При запуске вышеприведенной команды, начинается процесс распознавания клавиш. То есть, доходим до диалога <br /><br />Now start pressing buttons on your remote control. <br />It is very important that you press many different buttons and hold them <br />down for approximately one second. Each button should generate at least one <br />dot but in no case more than ten dots of output. <br />Don't stop pressing buttons until two lines of dots (2x80) have been generated. <br />Press RETURN now to start recording. <br /><br />Нажимаем Enter, потом начинаю давить на разные (или на одну) кнопки с продолжительностью 1 сек. Вроде как должны появляться точечки на каждое нажатие, но они не появляются. Через 10 секунд появляется такое сообщение <br /><br />irrecord: no data for 10 secs, aborting <br />irrecord: gap not found, can't continue <br /><br />и програма заканчивается. <br /><br /><br />Если попытаться запустить эту команду с указанием COM1 (от рута) <br /><br /># irrecord -d /dev/ttyS0 lircd.conf <br /><br />то в ответ получаю <br /><br />irrecord: could not init hardware (lircd running ? --&gt; close it, check permissions) <br /><br />Права на что нужно проверить? На файлы компортов? Они у меня такие <br /><br />crw-rw---- 1 root dialout 4, 64 2008-05-28 18:07 ttyS0 <br />crw-rw---- 1 root dialout 4, 65 2008-05-28 18:07 ttyS1 <br /><br />но под рутом как бы неважно, доступ должен быть полным... <br /><br /><br />Гдето-то нашел рекомендацию, что надо вообще компорт проверить. Дать команду <br /><br /># cat /dev/ttyS0 <br /><br />и при нажатии кнопок на пульте, в консоль должен мусор сыпаться. Но у меня эта команда (под рутом и от обычного пользователя) тоже не выполняется <br /><br /># cat /dev/ttyS0 <br />cat: /dev/ttyS0: Input/output error <br /><br /><br />Вот. Не знаю больше куда рыть и что делать, чтобы считать хоть какой сигнал с компорта. Как же запустить это LIRC? <br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.linux.org.ru/people/xintrea/profile"><span style=" text-decoration: underline line-through; color:#0000ff;">xintrea</span></a> ★<br />28.05.2008 15:40:37 </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="https://www.linux.org.ru/img/p.gif" width="1" height="1" /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Судя по логам, прежде чем запустить, его нужно с начала сконфигурировать. :)</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">anonymous (28.05.2008 15:45:36)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt;Гдето-то нашел рекомендацию, что надо вообще компорт проверить. Дать команду <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">&gt;# cat /dev/ttyS0 </span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt;и при нажатии кнопок на пульте, в консоль должен мусор сыпаться. <br /><br />Судя по схеме если ты ее правильно собрал RxD в воздухе болтается так что сомневаюсь в этом совете... <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;"># cat /dev/ttyS0 <br />cat: /dev/ttyS0: Input/output error </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />Если порт уже занят другим процессом ничего другого и не получишь</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.linux.org.ru/people/koTuk/profile"><span style=" text-decoration: underline; color:#0000ff;">koTuk</span></a> ☆ (28.05.2008 16:14:44)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">&gt;&gt; # cat /dev/ttyS0 &gt;&gt; и при нажатии кнопок на пульте, в консоль должен мусор сыпаться. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">&gt; Судя по схеме если ты ее правильно собрал RxD в воздухе болтается так что сомневаюсь в этом совете... </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Да, наверно так и есть. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">&gt;&gt; # cat /dev/ttyS0 &gt;&gt; cat: /dev/ttyS0: Input/output error </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">&gt; Если порт уже занят другим процессом ничего другого и не получишь </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Нет, дело видимо в другом. Такая ошибка возникает после команды # setserial /dev/ttyS0 uart none </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">А если дать команду # setserial /dev/ttyS0 uart 16550A </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">то такой ошибки не возникает. Но и в консоль через cat ничего не сыпится, но это видимо из-за однонаправленной схемы.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.linux.org.ru/people/xintrea/profile"><span style=" text-decoration: underline line-through; color:#0000ff;">xintrea</span></a> ★ (28.05.2008 17:05:35)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; Судя по логам, прежде чем запустить, его нужно с начала сконфигурировать. <br /><br />Чтобы запустить irrecord (генератор конфига), надо этот конфиг уже иметь?? Что-то замкнутый круг получается. <br /><br /><br />Кто-нибудь может внятно сказать, какой файл девайса надо использовать при генерации конфига, если приемник подключен на COM1? <br /><br />В HOWTO написано <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;"># irrecord -d /dev/lirc0 lircd.conf </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />но с /dev/lirc0 данные не считываются. <br /><br />А при попытке считывать с /dev/ttyS0 <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;"># irrecord -d /dev/ttyS0 lircd.conf </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />процесс создания конфига вообще не запускается (см. первый пост) <br /><br /><br />Что делать то?</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.linux.org.ru/people/xintrea/profile"><span style=" text-decoration: underline line-through; color:#0000ff;">xintrea</span></a> ★ (28.05.2008 17:11:36)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">/dev/lirc0 должен появлятся если загружены правильные модули для устройства. Возможно стоит поробовать загрузить все модули lirc.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">anonymous (28.05.2008 17:27:11)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="https://www.linux.org.ru/img/p.gif" width="1" height="1" /><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Еще можно поробовать почитать документацию по irrecord. Там например написано: If the program fails to recognize the protocol of the remote control you should use the --force option to at least create a config file in raw mode.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">anonymous (28.05.2008 17:29:15)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; /dev/lirc0 должен появлятся если загружены правильные модули для устройства. Возможно стоит поробовать загрузить все модули lirc. <br /><br />Да, файл /dev/lirc0 отсутсвует в свежезапущеной системе. Он появляется после команд <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">setserial /dev/ttyS0 uart none <br />setserial /dev/ttyS1 uart none <br />modprobe lirc_dev <br />modprobe lirc_serial </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />В HOWTO написано, что для такого самодельного девайса нужно два модуля lirc_dev и lirc_serial. Их я и загружаю. И irrecord работает, только не видит потока данных. <br /><br />Вот понять не могу, к какому порту привязывается /dev/lirc0? К тому, который указан в /etc/lirc/lirc-modules-source.conf? Содержимое этого файла у меня такое, может тут что не так? <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">-----8&lt;----- <br /><br /># lirc-modules-source config file used by Debian GNU/Linux <br /># Space separated list of lirc kernel drivers to build <br />LIRC_MODULES=&quot;serial&quot; <br /><br /># It87 module configuration <br />LIRC_IT87_CFLAGS=&quot;UNCONFIGURED&quot; <br /><br /># Parallel module configuration <br />LIRC_PARALLEL_PORT=&quot;UNCONFIGURED&quot; <br />LIRC_PARALLEL_IRQ=&quot;UNCONFIGURED&quot; <br />LIRC_PARALLEL_TIMER=&quot;UNCONFIGURED&quot; <br /><br /># Serial module configuration <br />LIRC_SERIAL_PORT=&quot;0x2f8&quot; <br />LIRC_SERIAL_IRQ=&quot;3&quot; <br />LIRC_SERIAL_CFLAGS=&quot; -DLIRC_SERIAL_SOFTCARRIER -DLIRC_SERIAL_IGOR &quot; <br /><br /># Sir module configuration <br />LIRC_SIR_PORT=&quot;UNCONFIGURED&quot; <br />LIRC_SIR_IRQ=&quot;UNCONFIGURED&quot; <br />LIRC_SIR_CFLAGS=&quot;UNCONFIGURED&quot; <br /><br />-----8&lt;----- </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />А вот на всякий случай содержимое /dev/lirc/hardware.conf <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">-----8&lt;----- <br /><br /># /etc/lirc/hardware.conf <br /># <br /># Arguments which will be used when launching lircd <br />LIRCD_ARGS=&quot;&quot; <br /><br />#Don't start lircmd even if there seems to be a good config file <br />#START_LIRCMD=false <br /><br />#Try to load appropriate kernel modules <br />LOAD_MODULES=true <br /><br /># Run &quot;lircd --driver=help&quot; for a list of supported drivers. <br />DRIVER=&quot;&quot; <br /># If DEVICE is set to /dev/lirc and devfs is in use /dev/lirc/0 will be <br /># automatically used instead <br />DEVICE=&quot;&quot; <br />MODULES=&quot;lirc_dev lirc_serial&quot; <br /><br /># Default configuration files for your hardware if any <br />LIRCD_CONF=&quot;&quot; <br />LIRCMD_CONF=&quot;&quot; <br /><br />-----8&lt;----- </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />Что-нибудь можно по этим файлам сказать?</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.linux.org.ru/people/xintrea/profile"><span style=" text-decoration: underline line-through; color:#0000ff;">xintrea</span></a> ★ (28.05.2008 20:30:13)</p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; Еще можно поробовать почитать документацию по irrecord. Там например написано: <br />&gt; If the program fails to recognize the protocol of the remote control you should use the --force option to at least create a config file in raw mode. <br /><br />Попробовал. Результат тот же <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;"># irrecord -d /dev/lirc0 -f lircd.conf <br />[...] <br />irrecord: no data for 10 secs, aborting <br />irrecord: gap not found, can't continue </span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.linux.org.ru/people/xintrea/profile"><span style=" text-decoration: underline line-through; color:#0000ff;">xintrea</span></a> ★ (28.05.2008 20:43:44)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">&gt;irrecord: no data for 10 secs, aborting <br />&gt;irrecord: gap not found, can't continue </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />gap - промежуток, возможно у тебя IR датчик слишком чувсивительный а возможно наоброт :) Попробуй ослабить сигнал - заклей изолентой полукруглый выступ на датчике. Еще можно попробовать другой пульт - главное чтобы у них разные протоколы были (другой производитель). Теорию можно посмотреть тут <br /><br /><a href="http://www.sbprojects.com/knowledge/ir/universal.htm"><span style=" text-decoration: underline; color:#0000ff;">http://www.sbprojects.com/knowledge/ir/universal.htm</span></a> <br /><br />Когда то давно делал по этой схеме - работало сразу, правда в linux не пробовал :) С повышенной чуствительностью встретился когда делал самодельный термометр на микроконтроллере с управлением с пульта ДУ от телика - помехи постоянно шли особенно сильно влияют ртутные лампы (лампы дневного света) и просто обычный свет. Но скорей всего что-то не так настраивал - если в windows все работало...</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.linux.org.ru/people/koTuk/profile"><span style=" text-decoration: underline; color:#0000ff;">koTuk</span></a> ☆ (28.05.2008 21:08:45)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Такс, ну вот новая порция информации. Оказывается, при конфигурировании была допущена ошибка. Хорошо, что ее заметил. По неизвестным причинам, порт COM1 у меня в системе занят. Пока еще не понял, чем он занят, но почему-то считается занятым. <br /><br />В момент конфигурирования через команду <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;"># dpkg-reconfigure lirc-modules-source </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />в генерируемом файле /etc/lirc/lirc-modules-source.conf прописывается первый свободный serial порт. И этот порт COM2! В HOWTO про это ни слова, так что я недоглядел. Поэтому в файле lirc-modules-source.conf у меня присутствовали настройки <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">LIRC_SERIAL_PORT=&quot;0x2f8&quot; <br />LIRC_SERIAL_IRQ=&quot;3&quot; </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />а для COM1 надо <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">LIRC_SERIAL_PORT=&quot;0x3f8&quot; <br />LIRC_SERIAL_IRQ=&quot;4&quot; </span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier 10 Pitch'; color:#6a0e07;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Ну вот я изменил настройки, пересобрал модуль, перегрузился. После перезагрузки в dmesg вижу такое <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">[ 120.076599] lirc_dev: IR Remote Control driver registered, at major 61 <br />[ 120.085711] lirc_serial: no version for &quot;lirc_unregister_plugin&quot; found: kernel tainted. <br />[ 120.089281] lirc_serial: port 03f8 already in use <br />[ 120.089355] lirc_serial: use 'setserial /dev/ttySX uart none' <br />[ 120.089358] lirc_serial: or compile the serial port driver as module and <br />[ 120.089361] lirc_serial: make sure this module is loaded first </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />причем в момент старта системы видно, что что-то про LIRC пишется в консоль (чего нет в dmesg), но я не успеваю прочитать. <br /><br /><br />В связи с этим два вопроса <br /><br />1. Как увидеть лог консоли при загрузке системы? Вроде на старых линухах можно было переключиться в первую консоль где шла загрузка, и кнопками ctrl+PgUp подняться вверх. Сейчас ни PgUp ни ctrl+PgUp ни shift+PgUp ни alt+PgUp не помогают. А инфа какая-то важная там. <br /><br />2. Очень важный вопрос. Как определить, что удерживает COM1 на момент старта lirc? <br /><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.linux.org.ru/people/xintrea/profile"><span style=" text-decoration: underline line-through; color:#0000ff;">xintrea</span></a> ★ (29.05.2008 2:05:59)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">&gt;[ 120.089281] lirc_serial: port 03f8 already in use <br />&gt;[ 120.089355] lirc_serial: use 'setserial /dev/ttySX uart none' <br />&gt;[ 120.089358] lirc_serial: or compile the serial port driver as module and <br />&gt;[ 120.089361] lirc_serial: make sure this module is loaded first </span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier 10 Pitch'; color:#6a0e07;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В общем модуль lirc должен загружаться до загрузки последовательного порта - они конфликтуют он так тебе об этом и говорит - порт 0x3f8 занят используй команду setserial /dev/ttySX uart none чтобы отключить последовательный порт или скомпилируй последовательный порт как модуль и убедись что модуль lirc_serial загружается первым. <br />сделай как он просит :) <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">#setserial /dev/ttySX uart none <br />#modprobe lirc_serial </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.linux.org.ru/people/koTuk/profile"><span style=" text-decoration: underline; color:#0000ff;">koTuk</span></a> ☆ (29.05.2008 2:50:04)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В общем, да, порт не занят на самом деле. Его перед загрузкой модулей lirc надо загнать в none режим. В убунтувском фонуме подсказали как сделать это. <br /><br />Создал файл /etc/serial.conf, прописал в него <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">/dev/ttyS0 uart none <br />/dev/ttyS1 uart 16550A port 0x02f8 irq 3 baud_base 115200 spd_normal skip_test </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />Теперь модули lirc_dev и lirc_serial нормально стартуют. Далее встал вопрос о lircd.conf. Все таки я нашел конфиг для моего пульта. Почему-то не сразу понял, что надо по модели пульта искать а не по модели IR-приемника. <br /><br />Конфиг такой <a href="http://lirc.sourceforge.net/remotes/sony/RMT-831"><span style=" text-decoration: underline; color:#0000ff;">http://lirc.sourceforge.net/remotes/sony/RMT-831</span></a> <br /><br />Насколько я понимаю, данный текст надо сохранить в виде файла /etc/lirc/lircd.conf, обязательно с UNIX переводом строк. Так и сделал. Правда наткнулся на ЗАЛИПУХУ. Тому кто делает такие залипухи надо лечиться срочно! Это люди просто из параллельной вселенной! Это ж какое извратное мЫшление нужно иметь, чтоб так систему конфигов строить. <br /><br /><span style=" font-weight:600;">ОКАЗЫВАЕТСЯ</span>. При старте lircd, происходит считывание файла /etc/lirc/lircd.conf. Файл /etc/lirc/lircd.conf имеет текстовый формат, строки с комментариями начинаются со знака #. Вроде все как обычно. Однако нет! Первый КОММЕНТАРИЙ данного файла содержит ФЛАГ (ужос!), изменен ли этот файл или нет. То есть, если начало файла будет таким <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">#UNCONFIGURED <br /># To find out how to get a proper configuration file please read: <br /># /usr/share/doc/lirc/README.Debian </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />то независимо от того, есть ли далее текст конфигурации или нет, данный файл просматриваться не будет, и будет выведено сообщение, что lircd.conf не содержит конфигурацию. Пока это понял, думал что сам тронусь. Это какие-то биороботы такие залипухи делают. Кстати, в интернете из-за этой залипухи много непоняток, почему конфиг не применяется. Многие, как и я, просто добавляют текст конфига ниже данного заголовка. И потом долбятся. <br /><br />В общем, после того как убрал этот заголовок в файле lircd.conf, демон lircd стал запускаться без сообщений о ошибках. Вот что теперь рассказывает dmesg и ps сразу после старта компьютера <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;"># dmesg | grep lirc <br />[ 116.249003] lirc_dev: IR Remote Control driver registered, at major 61 <br />[ 116.258086] lirc_serial: no version for &quot;lirc_unregister_plugin&quot; found: kernel tainted. <br />[ 117.258074] lirc_serial: auto-detected active high receiver <br />[ 117.258084] lirc_dev: lirc_register_plugin: sample_rate: 0 <br /><br /># ps aux | grep lirc <br />root 4967 0.0 0.0 2880 552 ? Ss 11:03 0:00 /usr/sbin/lircd --device=/dev/lirc0 </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">То есть, вроде как все должно работать. НО НЕ РАБОТАЕТ! <br /><br />Для теста рекомендуют запускать программу irw. И она должна в консоль выдавать названия кнопок, прописаных в lircd.conf. Но ничего не происходит. Куда еще копать то?</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.linux.org.ru/people/xintrea/profile"><span style=" text-decoration: underline line-through; color:#0000ff;">xintrea</span></a> ★ (29.05.2008 11:18:33)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt;Теперь модули lirc_dev и lirc_serial нормально стартуют. <br /><br />Вот теперь наверно можно потестировать работает или нет </p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">#cat /dev/lirc0 </span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier 10 Pitch'; color:#6a0e07;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">и понажимать клавиши на пульте. Только перед этим наверно надо выгрузить lircd </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.linux.org.ru/people/koTuk/profile"><span style=" text-decoration: underline; color:#0000ff;">koTuk</span></a> ☆ (29.05.2008 11:57:42)</p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">У меня настроено и работает </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Приду домой, кину сюда конфиги</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">anonymous (29.05.2008 12:07:51)</p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">&gt; Вот теперь наверно можно потестировать работает или нет &gt; #cat /dev/lirc0 &gt; и понажимать клавиши на пульте. Только перед этим наверно надо выгрузить lircd </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Нет, молчит. И при включенном lircd и при выключеном. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вообще, хотелось бы узнать метод, как проверить работоспособность приемника под линухом, без всяких надстроек. Хотя бы сырые данные в консоли увидеть, хоть мусор. Приемник и пульт рабочий, в винде проверил. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Если у вас такой же самодельный приемник, попробуйте у себя, какая команда (cat или еще что) сможет показать наличие принимаемых данных. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">У меня уже такое впечатление складывается, что модуль ядра вообще данные о компорта не принимает. </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.linux.org.ru/people/xintrea/profile"><span style=" text-decoration: underline line-through; color:#0000ff;">xintrea</span></a> ★ (29.05.2008 13:50:43)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt;Если у вас такой же самодельный приемник, попробуйте у себя, какая команда (cat или еще что) сможет показать наличие принимаемых данных. <br /><br />Если бы мне было на чем проверить давно бы рецепт написал - компорта аппаратного у меня уже 2 года нет.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.linux.org.ru/people/koTuk/profile"><span style=" text-decoration: underline; color:#0000ff;">koTuk</span></a> ☆ (29.05.2008 14:11:09)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Такс, нашел как проверить девайс. Для этого есть программа mode2. Запускал ее и когда lircd запущен, и когда выключен. Так </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">mode2 -d /dev/lirc0 </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">и так </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">mode2 -d /dev/lirc </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">И ничего не показывается. Девайс рабочий. О чем это говорит? По-моему о том, что модули ядра не читают данные с компорта. Или теряют их где-то на полпути. </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.linux.org.ru/people/xintrea/profile"><span style=" text-decoration: underline line-through; color:#0000ff;">xintrea</span></a> ★ (29.05.2008 22:31:12)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Решил ставить не из репозитария убунты, а с официального сайта. В связи с этим вопрос. При компилировании можно выставить опцию </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">Enable dynamic codes. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Нужно ли ее выставлять для вот этого пульта </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://lirc.sourceforge.net/remotes/sony/RMT-831"><span style=" text-decoration: underline; color:#0000ff;">http://lirc.sourceforge.net/remotes/sony/RMT-831</span></a> ?</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.linux.org.ru/people/xintrea/profile"><span style=" text-decoration: underline line-through; color:#0000ff;">xintrea</span></a> ★ (29.05.2008 22:51:35)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt;При компилировании можно выставить опцию <br />&gt;Enable dynamic codes. <br />&gt;Нужно ли ее выставлять для вот этого пульта <br />&gt;<a href="http://lirc.sourceforge.net/remotes/sony/RMT-831"><span style=" text-decoration: underline; color:#0000ff;">http://lirc.sourceforge.net/remotes/sony/RMT-831</span></a> <br /><br />Думаю что кроме выбора директории куда устанавливать и выбора драйвера там лучше ничего больше не трогать :) Единственное что тебе действительно может пригодиться так это --enable-debug но судя по коду там отладочных сообщений крайне мало... Думаю этого вполне достаточно <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">./configure --prefix=/usr --disable-static --with-driver=serial --enable-debug </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.linux.org.ru/people/koTuk/profile"><span style=" text-decoration: underline; color:#0000ff;">koTuk</span></a> ☆ (29.05.2008 23:38:03)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:x-large; font-weight:600;">Re: Самодельный IR приемник и LIRC. В Windows работает, в Linux нет.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В общем, заработал инфракрасник. Всем спасибо за помощь, особенно товарищу koTuk-у. Ситуация с IR в Ubuntu да и в офицальных исходниках LIRC оказалась очень запущеной. <br /><br />Рассказываю. <br /><br />Модули ядра lirc_dev и lirc_serial, которые компилируются и устанавливаются через module assistant из модуля lirc-modules-source ( lirc-modules-source_0.8.1+cvs20070310-0ubuntu2_all.deb ), в официальном репозитарии Ubuntu 7.04 - нерабочие. <br /><br />Я через синаптик деинсталлировал пакеты lirc и lirc-modules-source, удалил сгенерированные lirc*.deb файлы из каталога /usr/src. Удалил скрипт /etc/init.d/lirc. <br /><br />Затем запустил сборку LIRC из исходников, взятых с офицального сайта LIRC ( файл с исходниками lirc-0.8.2.tar.bz2 ). После configure, make, make install пакет LIRC установился. В результате компиляции и установки имеем модули ядра, демоны lircd и lircmd, вспомогательные программы. Конечно, после установки из исходников ни модули ядра, ни демон lircd при запуске системы не будут загружаться автоматом. Это нужно будет настроить вручную, или как-нибудь еще. <br /><br />Но зато полученные модули ядра работают. Сразу после установки можно дать команды <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;"># ldconfig <br /># modprobe lirc_serial </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />И модули lirc_serial и зависимый от него lirc_dev будут запущены. Проверить что это так, можно командой <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;"># lsmod | grep lirc <br />lirc_serial 15492 0 <br />lirc_dev 16116 1 lirc_serial </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />Проверить, что теперь прием сигнала работает, можно командой mode2 (возможно придется указать lirc-девайс например --device=/dev/lirc или /dev/lirc0. У меня показывает данные и без указания девайса). Дадим эту команду и понажимаем на кнопки пульта. <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;">#mode2 <br />pulse 1285 <br />space 512 <br />pulse 1283 <br />space 510 <br />pulse 686 <br />space 512 <br />pulse 684 <br />space 511 </span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier 10 Pitch'; color:#6a0e07;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Далее выясняется, что собранные из исходников демоны lircd и lircmd не могут работать вместе (лежат они в каталоге /usr/local/sbin) <br /><br />Дадим команду <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;"># start-stop-daemon --start --quiet --exec /usr/local/sbin/lircd -- --device=/dev/lirc </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />и проверим, запустился ли демон lircd <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;"># ps aux | grep lirc <br />/usr/sbin/lircd --device=/dev/lirc0 </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />Демон lircd запустился и работает. Дадим теперь команду запуска демона lircmd <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;"># start-stop-daemon --start --quiet --exec /usr/local/sbin/lircmd </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />Команда молча отработает. Но что при этом происходит? Проверим <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;"># ps aux | grep lirc </span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Пусто </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />То есть мало того, что lircmd не запустился, так еще и молча вывалился демон lircd. <br /><br />Что же делать? А делать надо вот что - установить пакет lirc из репозитария убунты (он модули ядра не содержит, только демоны и вспомогательные программы). Модули ядра у нас уже есть, они рабочие. Авось хотя бы демоны из репозитария будут рабочими. <br /><br />Устанавливаем <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;"># apt-get install lirc </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />После установки, демоны из этого пакета будут лежать в каталоге /usr/sbin/lircd. Попробуем запустить их. Сначала lircd <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;"># start-stop-daemon --start --quiet --exec /usr/sbin/lircd -- --device=/dev/lirc <br /># ps aux | grep lirc <br />/usr/sbin/lircd --device=/dev/lirc0 </span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Он запустился. А теперь lircmd <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;"># start-stop-daemon --start --quiet --exec /usr/sbin/lircmd <br /># ps aux | grep lirc <br />/usr/sbin/lircd --device=/dev/lirc0 </span></p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier 10 Pitch'; color:#6a0e07;"><br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Он не запустился. Но при его старте lircd не вывалился. <br /><br /><br />Теперь проверим как щучится пульт. Обязательно нужно иметь преднастроенные файлы /dev/lirc/lircd.conf и /dev/lirc/lircmd.conf. Первый файл должен содержать настройку пульта. Второй пока может быть пустым. Демон lircd должен быть запущен после последнего изменения /dev/lirc/lircd.conf чтобы принялись настройки, вносимые в этот файл. Распознавание клавиш можно проверить командой irw. Дадим ее и понажимаем на кнопки пульта. <br /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier 10 Pitch'; color:#6a0e07;"># irw <br />000000000000000d 00 play Sony_RMT-831 <br />000000000000000d 01 play Sony_RMT-831 <br />000000000000000d 02 play Sony_RMT-831 <br />000000000000000d 03 play Sony_RMT-831 <br />000000000000000d 04 play Sony_RMT-831 <br />000000000000000c 00 rew Sony_RMT-831 <br />000000000000000c 01 rew Sony_RMT-831 <br />000000000000000c 02 rew Sony_RMT-831 <br />000000000000000c 03 rew Sony_RMT-831 <br />000000000000000c 04 rew Sony_RMT-831 </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br />Кнопки распознаются. <br /><br />Впринципе, теперь осталось сделать две вещи - чтобы модули и демоны грузились при старте системы, и правильно написать /dev/lirc/lircmd.conf чтобы команды с пульта выполнялись в нужных приложениях. <br /><br />Да, во избежании путаницы, лучше каталог с неработающими демонами /usr/local/sbin/ удалить. </p>
<p style="-qt-paragraph-type:empty; margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></body></html>
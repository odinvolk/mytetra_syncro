<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Стало интересно, тоже восстановил базу, ТиИ в конфигураторе реструктуризацию также прошло. </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В кратце поясню, так как тут почему-то никто подробно не рассказал что в итоге делать то надо. </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">1.При попытке открыть в 1СdTool таблицу DBSCHEMA вылетала ошибка про попытку чтения блока за пределами BLOB-файла и в тексте этого файла было видно прерывающуюся строчку &quot;Fld3215&quot;,0,..{1,..{&quot;N&quot;,15,3,&quot;&quot;,0}..}..},..{&quot;Fld32 </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">2. Открываем 1CD хексом, находим эту строчку, видим что дальше блок сплошных 00 </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">3. Из комментария awa15 знаем, что blob хранится кусками по 250 байт, логично предполагаем что пропал один кусок, находим где определяется информация о текущем куске. Для этого смотрим с чего начинается следующий после нулей код - там 54 0c 00 00 fa 00. Смотрим до этого - видим 52 0c 00 00 fa 00. Становится ясно, что начинаться наш восстанавливаемый блок должен с битов 53 0c 00 00 fa 00 </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">4. Находим поиском по &quot;Fld3217&quot; потерянные данные блока. Не знаю уж почему они тут дублировались ещё в одном месте, в других случаях, очевидно, надо цеплять это из бэкапа. Но сейчас берём недостающий кусок, чистим от лишних &quot;адресных&quot; битов и вставляем - всё чётко совпадает по структуре с продолжением в следующем блоке. </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">5. Открываем в 1cdTool файл - убеждаемся что таблица теперь читается полностью. Если это не так, то следует еще раз проверить &quot;адресные&quot; биты блоков, потому что даже если не вставлять никакие данные, а просто вставить в начало пустого блока адресные биты - то всё уже открывается нормально в 1Cdtool </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">6. После этого у меня уже в конфигураторе сразу открылось, без chbdfl, и там сделалось ТиИ. </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Демпинговать цены не буду, надеюсь что просто подобной подсказкой ТС в случае нехватки бабла сможет исправить всё сама:)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"></p></body></html>